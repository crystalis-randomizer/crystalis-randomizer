import { CaveShuffle, CryptEntranceShuffle, WideCaveShuffle } from '../maze/cave.js';
import { Random } from '../random.js';
import { bridgeCaveShuffle } from '../maze/doublecave.js';
import { CycleCaveShuffle, TightCycleCaveShuffle } from '../maze/cyclecave.js';
import { RiverCaveShuffle, StyxRiverCaveShuffle, WaterfallRiverCaveShuffle, OasisCaveShuffle, OasisEntranceCaveShuffle } from '../maze/rivercave.js';
import { SwampShuffle, addSwampDoors } from '../maze/swamp.js';
import { SaberaPalaceShuffle } from '../maze/twostage.js';
import { LabyrinthShuffle, fixLabyrinthScreens } from '../maze/goa.js';
import { PyramidShuffle } from '../maze/pyramid.js';
import { wideArenaExits } from '../rom/screenfix.js';
import { KarmineBasementShuffle, karmine } from '../maze/karmine.js';
import { MazeShuffles } from '../maze/maze.js';
export function shuffleMazes(rom, flags, random) {
    const $ = rom.locations;
    prepareScreens(rom, random);
    const shuffles = new MazeShuffles(rom, random);
    shuffles.add();
    if (!shuffles.shuffles.length)
        shuffles.add(new CaveShuffle($.EastCave1), new CaveShuffle($.EastCave2), new CaveShuffle($.EastCave3), ...bridgeCaveShuffle($.SealedCave1, $.SealedCave2), new CaveShuffle($.SealedCave3), new CaveShuffle($.SealedCave4), new CaveShuffle($.SealedCave5), new CaveShuffle($.SealedCave6), new CaveShuffle($.SealedCave7), new CaveShuffle($.SealedCave8), new CaveShuffle($.WindmillCave), new CaveShuffle($.ZebuCave), new SwampShuffle($.Swamp), new CaveShuffle($.MtSabreWest_Cave1), new CaveShuffle($.MtSabreWest_Cave2), new CaveShuffle($.MtSabreWest_Cave3), new CaveShuffle($.MtSabreWest_Cave4), new CaveShuffle($.MtSabreWest_Cave5), new CaveShuffle($.MtSabreWest_Cave6), new CycleCaveShuffle($.MtSabreWest_Cave7), new CaveShuffle($.MtSabreNorth_Cave1), new CaveShuffle($.MtSabreNorth_Cave2), new CaveShuffle($.MtSabreNorth_Cave3), new CaveShuffle($.MtSabreNorth_Cave4), new CaveShuffle($.MtSabreNorth_Cave5), new CaveShuffle($.MtSabreNorth_Cave6), new CaveShuffle($.MtSabreNorth_Cave7), new CaveShuffle($.MtSabreNorth_Cave8), new CaveShuffle($.MtSabreNorth_Cave9), new CaveShuffle($.MtSabreNorth_LeftCell2), new CaveShuffle($.MtSabreNorth_SummitCave), new CaveShuffle($.KirisaPlantCave1), new CaveShuffle($.KirisaPlantCave2), new CaveShuffle($.KirisaPlantCave3), new CaveShuffle($.FogLampCave1), new CaveShuffle($.FogLampCave2), new CaveShuffle($.FogLampCave3), new TightCycleCaveShuffle($.FogLampCaveDeadEnd), ...bridgeCaveShuffle($.FogLampCave5, $.FogLampCave4, true), ...bridgeCaveShuffle($.FogLampCave7, $.FogLampCave6), new CycleCaveShuffle($.WaterfallCave1), new CaveShuffle($.WaterfallCave2), new WideCaveShuffle($.WaterfallCave3), new WaterfallRiverCaveShuffle($.WaterfallCave4), new RiverCaveShuffle($.EvilSpiritIsland2).requirePitDestination(), new CycleCaveShuffle($.EvilSpiritIsland3), new RiverCaveShuffle($.EvilSpiritIsland4), new SaberaPalaceShuffle($.SaberaPalace1).requirePitDestination(), new CaveShuffle($.SaberaPalace2), new CaveShuffle($.SaberaPalace2_West), new CaveShuffle($.JoelSecretPassage), new CaveShuffle($.MtHydra_Cave1), new CaveShuffle($.MtHydra_Cave2), new CaveShuffle($.MtHydra_Cave3), new CaveShuffle($.MtHydra_Cave4), new CaveShuffle($.MtHydra_Cave5), new CaveShuffle($.MtHydra_Cave6), new WideCaveShuffle($.MtHydra_Cave7), new CaveShuffle($.MtHydra_Cave8), new CaveShuffle($.MtHydra_Cave9), new CaveShuffle($.MtHydra_Cave10), new WideCaveShuffle($.Styx1).setUpEdgeType('c'), new StyxRiverCaveShuffle($.Styx2).requirePitDestination(), new CaveShuffle($.Styx3), new OasisCaveShuffle($.OasisCaveMain), new CaveShuffle($.DesertCave1), new CaveShuffle($.DesertCave2), new CaveShuffle($.Pyramid_Branch), new PyramidShuffle($.Pyramid_Main), new CryptEntranceShuffle($.Crypt_Entrance), new WideCaveShuffle($.Crypt_Hall1).setUpEdgeType('c'), new CaveShuffle($.Crypt_DeadEndLeft), new CaveShuffle($.Crypt_DeadEndRight), new CaveShuffle($.Crypt_Branch), new CaveShuffle($.Crypt_Hall2), new LabyrinthShuffle($.GoaFortress_Kelbesque), new RiverCaveShuffle($.GoaFortress_Sabera), new CaveShuffle($.GoaFortress_Mado1).requirePitDestination(), new CaveShuffle($.GoaFortress_Mado2), new CaveShuffle($.GoaFortress_Mado3), new CaveShuffle($.GoaFortress_Karmine1), new CaveShuffle($.GoaFortress_Karmine2), new CaveShuffle($.GoaFortress_Karmine4), new KarmineBasementShuffle($.GoaFortress_Karmine6), ...karmine($.GoaFortress_Karmine3, $.GoaFortress_Karmine5, $.GoaFortress_Kensu), new OasisEntranceCaveShuffle($.OasisCave_Entrance));
    shuffles.shuffleAll();
    console.log(String(shuffles));
}
export function prepareScreens(rom, random = new Random(1)) {
    wideArenaExits(rom);
    addSwampDoors(rom);
    fixLabyrinthScreens(rom, random);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2h1ZmZsZW1hemVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2pzL3Bhc3Mvc2h1ZmZsZW1hemVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxXQUFXLEVBQUUsb0JBQW9CLEVBQ2pDLGVBQWUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBSWxELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFdEMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLHFCQUFxQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0UsT0FBTyxFQUFFLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFLHlCQUF5QixFQUNqRSxnQkFBZ0IsRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2xGLE9BQU8sRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDL0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdkUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDckUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE1BQU0sVUFBVSxZQUFZLENBQUMsR0FBUSxFQUFFLEtBQWMsRUFBRSxNQUFjO0lBU25FLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFFeEIsY0FBYyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FB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QyxDQUFDLGlCQUFpQixDQUFDLENBQUMscUJBQXFCLEVBQUUsRUFDNUQsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEVBQ3BDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxFQUNwQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsb0JBQW9CLENBQUMsRUFDdkMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEVBQ3ZDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUN2QyxJQUFJLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUNsRCxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDLG9CQUFvQixFQUM5QyxDQUFDLENBQUMsaUJBQWlCLENBQUMsRUFDL0IsSUFBSSx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FJbkQsQ0FBQztJQUNGLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLENBQUM7QUFFRCxNQUFNLFVBQVUsY0FBYyxDQUFDLEdBQVEsRUFBRSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQzdELGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkIsbUJBQW1CLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ25DLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGbGFnU2V0IH0gZnJvbSAnLi4vZmxhZ3NldC5qcyc7XG5pbXBvcnQgeyBDYXZlU2h1ZmZsZSwgQ3J5cHRFbnRyYW5jZVNodWZmbGUsXG4gICAgICAgICBXaWRlQ2F2ZVNodWZmbGUgfSBmcm9tICcuLi9tYXplL2NhdmUuanMnO1xuLy8gaW1wb3J0IHtleHRlbmRHb2FTY3JlZW5zLyosIHNodWZmbGVHb2ExKi99IGZyb20gJy4uL21hemUvZ29hLmpzJztcbi8vaW1wb3J0IHtzaHVmZmxlU3dhbXB9IGZyb20gJy4uL21hemUvc3dhbXAuanMnO1xuLy9pbXBvcnQge3NodWZmbGVQeXJhbWlkfSBmcm9tICcuLi9tYXplL3B5cmFtaWQuanMnO1xuaW1wb3J0IHsgUmFuZG9tIH0gZnJvbSAnLi4vcmFuZG9tLmpzJztcbmltcG9ydCB7IFJvbSB9IGZyb20gJy4uL3JvbS5qcyc7XG5pbXBvcnQgeyBicmlkZ2VDYXZlU2h1ZmZsZSB9IGZyb20gJy4uL21hemUvZG91YmxlY2F2ZS5qcyc7XG5pbXBvcnQgeyBDeWNsZUNhdmVTaHVmZmxlLCBUaWdodEN5Y2xlQ2F2ZVNodWZmbGUgfSBmcm9tICcuLi9tYXplL2N5Y2xlY2F2ZS5qcyc7XG5pbXBvcnQgeyBSaXZlckNhdmVTaHVmZmxlLCBTdHl4Uml2ZXJDYXZlU2h1ZmZsZSwgV2F0ZXJmYWxsUml2ZXJDYXZlU2h1ZmZsZSxcbiAgICAgICAgIE9hc2lzQ2F2ZVNodWZmbGUsIE9hc2lzRW50cmFuY2VDYXZlU2h1ZmZsZSB9IGZyb20gJy4uL21hemUvcml2ZXJjYXZlLmpzJztcbmltcG9ydCB7IFN3YW1wU2h1ZmZsZSwgYWRkU3dhbXBEb29ycyB9IGZyb20gJy4uL21hemUvc3dhbXAuanMnO1xuaW1wb3J0IHsgU2FiZXJhUGFsYWNlU2h1ZmZsZSB9IGZyb20gJy4uL21hemUvdHdvc3RhZ2UuanMnO1xuaW1wb3J0IHsgTGFieXJpbnRoU2h1ZmZsZSwgZml4TGFieXJpbnRoU2NyZWVucyB9IGZyb20gJy4uL21hemUvZ29hLmpzJztcbmltcG9ydCB7IFB5cmFtaWRTaHVmZmxlIH0gZnJvbSAnLi4vbWF6ZS9weXJhbWlkLmpzJztcbmltcG9ydCB7IHdpZGVBcmVuYUV4aXRzIH0gZnJvbSAnLi4vcm9tL3NjcmVlbmZpeC5qcyc7XG5pbXBvcnQgeyBLYXJtaW5lQmFzZW1lbnRTaHVmZmxlLCBrYXJtaW5lIH0gZnJvbSAnLi4vbWF6ZS9rYXJtaW5lLmpzJztcbmltcG9ydCB7IE1hemVTaHVmZmxlcyB9IGZyb20gJy4uL21hemUvbWF6ZS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlTWF6ZXMocm9tOiBSb20sIGZsYWdzOiBGbGFnU2V0LCByYW5kb206IFJhbmRvbSkge1xuICAvLyBUT0RPIC0gY29uc29saWRhdGUgZnJlZSBmbGFncz8gIEZpbmQgYSBsaXN0IG9mIHdoYXQncyB1c2VkLi4uXG4gIC8vIFsuLi5uZXcgU2V0KHJvbS5sb2NhdGlvbnMuZmxhdE1hcChsID0+IGwuZmxhZ3MubWFwKGYgPT4gZi5mbGFnKVxuICAvLyAgICAgICAgICAgLmZpbHRlcihmID0+IGYgIT0gMHgyMDApLm1hcCh4PT54LnRvU3RyaW5nKDE2KSkpKV0uc29ydCgpXG4gIC8vIEFsc28gbWFwIG92ZXIgdHJpZ2dlcnMsIGRpYWxvZ3MgLSBmaW5kIHdoYXQncyBzZXQvY2xlYXJlZFxuICAvLyBBbHNvIDJmMCBpcyBjby1vcHRlZCBhcyBhbiBcImFsd2F5cyB0cnVlXCIgdHJpZ2dlci5cbiAgLy8gc2h1ZmZsZVB5cmFtaWQocm9tLCByYW5kb20pO1xuICAvLyBzaHVmZmxlU3dhbXAocm9tLCByYW5kb20pO1xuICAvLyBzaHVmZmxlR29hMShyb20sIHJhbmRvbSk7XG4gIGNvbnN0ICQgPSByb20ubG9jYXRpb25zO1xuXG4gIHByZXBhcmVTY3JlZW5zKHJvbSwgcmFuZG9tKTtcblxuICBjb25zdCBzaHVmZmxlcyA9IG5ldyBNYXplU2h1ZmZsZXMocm9tLCByYW5kb20pO1xuICAgIHNodWZmbGVzLmFkZChcbiAgICAvL25ldyBXaWRlQ2F2ZVNodWZmbGUoJC5DcnlwdF9IYWxsMSkuc2V0VXBFZGdlVHlwZSgnYycpLFxuICAgICk7aWYoIXNodWZmbGVzLnNodWZmbGVzLmxlbmd0aClcbiAgc2h1ZmZsZXMuYWRkKFxuICAgIC8vIG5ldyBUb3duU2h1ZmZsZSgkLkxlYWYpLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuVmFsbGV5T2ZXaW5kKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5FYXN0Q2F2ZTEpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLkVhc3RDYXZlMiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuRWFzdENhdmUzKSxcbiAgICAuLi5icmlkZ2VDYXZlU2h1ZmZsZSgkLlNlYWxlZENhdmUxLCAkLlNlYWxlZENhdmUyKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5TZWFsZWRDYXZlMyksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuU2VhbGVkQ2F2ZTQpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLlNlYWxlZENhdmU1KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5TZWFsZWRDYXZlNiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuU2VhbGVkQ2F2ZTcpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLlNlYWxlZENhdmU4KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5XaW5kbWlsbENhdmUpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLlplYnVDYXZlKSxcbiAgICAvLyBuZXcgT3ZlcndvcmxkU2h1ZmZsZSgkLkNvcmRlbFBsYWluV2VzdCwgJC5Db3JkZWxQbGFpbkVhc3QpLFxuICAgIC8vIG5ldyBUb3duU2h1ZmZsZSgkLkJyeW5tYWVyKSxcbiAgICAvLyBuZXcgVG93blNodWZmbGUoJC5BbWF6b25lcyksXG4gICAgbmV3IFN3YW1wU2h1ZmZsZSgkLlN3YW1wKSxcbiAgICAvLyBuZXcgVG93blNodWZmbGUoJC5PYWspLFxuICAgIC8vIG5ldyBKb2luZWRNb3VudGFpblNodWZmbGUoJC5NdFNhYnJlV2VzdF9VcHBlciwgJC5NdFNhYnJlV2VzdF9Mb3dlciksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZVdlc3RfQ2F2ZTEpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10U2FicmVXZXN0X0NhdmUyKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5NdFNhYnJlV2VzdF9DYXZlMyksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZVdlc3RfQ2F2ZTQpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10U2FicmVXZXN0X0NhdmU1KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5NdFNhYnJlV2VzdF9DYXZlNiksXG4gICAgbmV3IEN5Y2xlQ2F2ZVNodWZmbGUoJC5NdFNhYnJlV2VzdF9DYXZlNyksXG4gICAgLy8gbmV3IFNwbGl0TW91bnRhaW5TaHVmZmxlKCQuTXRTYWJyZU5vcnRoX01haW4sICQuTXRTYWJyZU5vcnRoX01pZGRsZSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZU5vcnRoX0NhdmUxKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5NdFNhYnJlTm9ydGhfQ2F2ZTIpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10U2FicmVOb3J0aF9DYXZlMyksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZU5vcnRoX0NhdmU0KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5NdFNhYnJlTm9ydGhfQ2F2ZTUpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10U2FicmVOb3J0aF9DYXZlNiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZU5vcnRoX0NhdmU3KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5NdFNhYnJlTm9ydGhfQ2F2ZTgpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10U2FicmVOb3J0aF9DYXZlOSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZU5vcnRoX0xlZnRDZWxsMiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRTYWJyZU5vcnRoX1N1bW1pdENhdmUpLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuV2F0ZXJmYWxsVmFsbGV5Tm9ydGgsICQuV2F0ZXJmYWxsVmFsbGV5U291dGgpLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuTGltZVRyZWVWYWxsZXkpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLktpcmlzYVBsYW50Q2F2ZTEpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLktpcmlzYVBsYW50Q2F2ZTIpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLktpcmlzYVBsYW50Q2F2ZTMpLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuS2lyaXNhTWVhZG93KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5Gb2dMYW1wQ2F2ZTEpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLkZvZ0xhbXBDYXZlMiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuRm9nTGFtcENhdmUzKSxcbiAgICBuZXcgVGlnaHRDeWNsZUNhdmVTaHVmZmxlKCQuRm9nTGFtcENhdmVEZWFkRW5kKSxcbiAgICAuLi5icmlkZ2VDYXZlU2h1ZmZsZSgkLkZvZ0xhbXBDYXZlNSwgJC5Gb2dMYW1wQ2F2ZTQsIHRydWUgLypyZXZlcnNlZCovKSxcbiAgICAuLi5icmlkZ2VDYXZlU2h1ZmZsZSgkLkZvZ0xhbXBDYXZlNywgJC5Gb2dMYW1wQ2F2ZTYpLFxuICAgIC8vIG5ldyBUb3duU2h1ZmZsZSgkLlBvcnRvYSksXG4gICAgbmV3IEN5Y2xlQ2F2ZVNodWZmbGUoJC5XYXRlcmZhbGxDYXZlMSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuV2F0ZXJmYWxsQ2F2ZTIpLFxuICAgIG5ldyBXaWRlQ2F2ZVNodWZmbGUoJC5XYXRlcmZhbGxDYXZlMyksXG4gICAgbmV3IFdhdGVyZmFsbFJpdmVyQ2F2ZVNodWZmbGUoJC5XYXRlcmZhbGxDYXZlNCksXG4gICAgLy8gbmV3IFRvd2VyU2h1ZmZsZSgkLlRvd2VyMSwgJC5Ub3dlcjIsICQuVG93ZXIzLCAkLlRvd2VyT3V0c2lkZU1lc2lhKSxcbiAgICAvLyBuZXcgU2VhU2h1ZmZsZSgkLkFuZ3J5U2VhKSxcbiAgICAvLyBuZXcgQ2hhbm5lbFNodWZmbGUoJC5VbmRlcmdyb3VuZENoYW5uZWwpLFxuICAgIC8vIG5ldyBUb3duU2h1ZmZsZSgkLlpvbWJpZVRvd24pLFxuICAgIC8vIG5ldyBDaGFubmVsU2h1ZmZsZSgkLkV2aWxTcGlyaXRJc2xhbmQxKSxcbiAgICBuZXcgUml2ZXJDYXZlU2h1ZmZsZSgkLkV2aWxTcGlyaXRJc2xhbmQyKS5yZXF1aXJlUGl0RGVzdGluYXRpb24oKSxcbiAgICBuZXcgQ3ljbGVDYXZlU2h1ZmZsZSgkLkV2aWxTcGlyaXRJc2xhbmQzKSwgLy8gcGl0OiAkLkV2aWxTcGlyaXRJc2xhbmQyXG4gICAgbmV3IFJpdmVyQ2F2ZVNodWZmbGUoJC5FdmlsU3Bpcml0SXNsYW5kNCksXG4gICAgbmV3IFNhYmVyYVBhbGFjZVNodWZmbGUoJC5TYWJlcmFQYWxhY2UxKS5yZXF1aXJlUGl0RGVzdGluYXRpb24oKSxcbiAgICAvLyAvLyBUT0RPIC0gY29uc2lkZXIganVzdCBtYWtpbmcgdGhpcyBpbnRvIHR3byBzZXBhcmF0ZSBtYXBzP1xuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLlNhYmVyYVBhbGFjZTIpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLlNhYmVyYVBhbGFjZTJfV2VzdCksXG4gICAgLy8gLy8gbmV3IFNwbGl0UGl0U2h1ZmZsZSgkLlNhYmVyYVBhbGFjZTIsICQuU2FiZXJhUGFsYWNlMSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuSm9lbFNlY3JldFBhc3NhZ2UpLFxuICAgIC8vIG5ldyBUb3duU2h1ZmZsZSgkLkpvZWwpLFxuICAgIC8vIG5ldyBUb3duU2h1ZmZsZSgkLlN3YW4pLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuR29hVmFsbGV5KSxcbiAgICAvLyBuZXcgTW91bnRhaW5TaHVmZmxlKCQuTXRIeWRyYSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRIeWRyYV9DYXZlMSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRIeWRyYV9DYXZlMiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRIeWRyYV9DYXZlMyksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRIeWRyYV9DYXZlNCksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRIeWRyYV9DYXZlNSksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuTXRIeWRyYV9DYXZlNiksXG4gICAgbmV3IFdpZGVDYXZlU2h1ZmZsZSgkLk10SHlkcmFfQ2F2ZTcpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10SHlkcmFfQ2F2ZTgpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10SHlkcmFfQ2F2ZTkpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLk10SHlkcmFfQ2F2ZTEwKSxcbiAgICBuZXcgV2lkZUNhdmVTaHVmZmxlKCQuU3R5eDEpLnNldFVwRWRnZVR5cGUoJ2MnKSxcbiAgICAvLyAvLyBUT0RPIC0gY29uc2lkZXIgc3BsaXR0aW5nIHRoaXMgbWFwLCB0b28hXG4gICAgbmV3IFN0eXhSaXZlckNhdmVTaHVmZmxlKCQuU3R5eDIpLnJlcXVpcmVQaXREZXN0aW5hdGlvbigpLFxuICAgIC8vIC8vbmV3IFN0eXhSaXZlckNhdmVTaHVmZmxlKCQuU3R5eDJfRWFzdCksXG4gICAgLy8gLy8gbmV3IFN0eXhSaXZlckNhdmVTaHVmZmxlKCQuU3R5eDIpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLlN0eXgzKSwgLy8gcGl0OiAkLlN0eXgyXG4gICAgLy8gbmV3IFRvd25TaHVmZmxlKCQuU2h5cm9uKSxcbiAgICAvLyBuZXcgVG93blNodWZmbGUoJC5Hb2EpLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuRGVzZXJ0MSksXG4gICAgbmV3IE9hc2lzQ2F2ZVNodWZmbGUoJC5PYXNpc0NhdmVNYWluKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5EZXNlcnRDYXZlMSksXG4gICAgLy8gbmV3IFRvd25TaHVmZmxlKCQuU2FoYXJhKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5EZXNlcnRDYXZlMiksXG4gICAgLy8gbmV3IE92ZXJ3b3JsZFNodWZmbGUoJC5TYWhhcmFNZWFkb3cpLFxuICAgIC8vIG5ldyBPdmVyd29ybGRTaHVmZmxlKCQuRGVzZXJ0MiksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuUHlyYW1pZF9CcmFuY2gpLFxuICAgIG5ldyBQeXJhbWlkU2h1ZmZsZSgkLlB5cmFtaWRfTWFpbiksXG4gICAgbmV3IENyeXB0RW50cmFuY2VTaHVmZmxlKCQuQ3J5cHRfRW50cmFuY2UpLFxuICAgIG5ldyBXaWRlQ2F2ZVNodWZmbGUoJC5DcnlwdF9IYWxsMSkuc2V0VXBFZGdlVHlwZSgnYycpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLkNyeXB0X0RlYWRFbmRMZWZ0KSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5DcnlwdF9EZWFkRW5kUmlnaHQpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLkNyeXB0X0JyYW5jaCksIC8vIGRvd246IENyeXB0X0RlYWRFbmRMZWZ0IGFuZCBEZWFkRW5kUmlnaHRcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5DcnlwdF9IYWxsMiksIC8vIGRvd246ICQuQ3J5cHRfQnJhbmNoXG4gICAgbmV3IExhYnlyaW50aFNodWZmbGUoJC5Hb2FGb3J0cmVzc19LZWxiZXNxdWUpLFxuICAgIG5ldyBSaXZlckNhdmVTaHVmZmxlKCQuR29hRm9ydHJlc3NfU2FiZXJhKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5Hb2FGb3J0cmVzc19NYWRvMSkucmVxdWlyZVBpdERlc3RpbmF0aW9uKCksXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuR29hRm9ydHJlc3NfTWFkbzIpLCAvLyBkb3duc3RhaXJzOiAkLkdvYUZvcnRyZXNzX01hZG8xXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuR29hRm9ydHJlc3NfTWFkbzMpLCAvLyBkb3duc3RhaXJzOiAkLkdvYUZvcnRyZXNzX01hZG8xXG4gICAgbmV3IENhdmVTaHVmZmxlKCQuR29hRm9ydHJlc3NfS2FybWluZTEpLFxuICAgIG5ldyBDYXZlU2h1ZmZsZSgkLkdvYUZvcnRyZXNzX0thcm1pbmUyKSxcbiAgICBuZXcgQ2F2ZVNodWZmbGUoJC5Hb2FGb3J0cmVzc19LYXJtaW5lNCksXG4gICAgbmV3IEthcm1pbmVCYXNlbWVudFNodWZmbGUoJC5Hb2FGb3J0cmVzc19LYXJtaW5lNiksXG4gICAgLi4ua2FybWluZSgkLkdvYUZvcnRyZXNzX0thcm1pbmUzLCAkLkdvYUZvcnRyZXNzX0thcm1pbmU1LFxuICAgICAgICAgICAgICAgJC5Hb2FGb3J0cmVzc19LZW5zdSksXG4gICAgbmV3IE9hc2lzRW50cmFuY2VDYXZlU2h1ZmZsZSgkLk9hc2lzQ2F2ZV9FbnRyYW5jZSksXG4gICAgLy9uZXcgS2FybWluZVVwc3RhaXJzU2h1ZmZsZSgkLkdvYUZvcnRyZXNzX0thcm1pbmUzLCAkLkdvYUZvcnRyZXNzX0thcm1pbmU1KSxcbiAgICAvLyBuZXcgR29hS2FybWluZVNodWZmbGUoJC5Hb2FGb3J0cmVzc19LYXJtaW5lMywgJC5Hb2FGb3J0cmVzc19LYXJtaW5lNSxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgJC5Hb2FGb3J0cmVzc19LZW5zdSwgJC5Hb2FGb3J0cmVzc19LYXJtaW5lNiksXG4gICk7XG4gIHNodWZmbGVzLnNodWZmbGVBbGwoKTtcbiAgY29uc29sZS5sb2coU3RyaW5nKHNodWZmbGVzKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlU2NyZWVucyhyb206IFJvbSwgcmFuZG9tID0gbmV3IFJhbmRvbSgxKSkge1xuICB3aWRlQXJlbmFFeGl0cyhyb20pO1xuICBhZGRTd2FtcERvb3JzKHJvbSk7XG4gIGZpeExhYnlyaW50aFNjcmVlbnMocm9tLCByYW5kb20pO1xufVxuIl19