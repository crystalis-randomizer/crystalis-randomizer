const MISSPELLINGS = new Map([
    ['Sword of Water', ['Horde of Otters']],
    ['Sword of Thunder', ['Sorg of Chunker']],
    ['Flame Bracelet', ['Fame Bracelet']],
    ['Storm Bracelet', ['Stom Bracelet']],
    ['Sacred Shield', ['Scared Shield']],
    ['Bow of Truth', ['Bow of Strewth']],
    ['Statue of Onyx', ['Statue of Onxy']],
    ['Ivory Statue', ['Ivory Statute']],
    ['Fog Lamp', ['Frog Lamp', 'Smog Lamp', 'Dog Lamp', 'Bog Lamp', 'Fog Lump']],
    ['Glowing Lamp', ['Glowing Lump']],
    ['Key to Stxy', ['Key to Styx']],
    ['Insect Flute', ['Bug Flute', 'Bug Whistle']],
    ['Flute of Lime', ['Flute of Grime']],
    ['Iron Necklace', ['I Ron Necklace']],
    ['Shield Ring', ['Sho Ring']],
    ['Deo\'s Pendant', ['Rabbit Necklace', 'Bunny Pendant']],
    ['Speed Boots', ['Hermes Sandals']],
    ['Rabbit Boots', ['Deo\'s Boots', 'Jumping Boots', 'Rabid Boots']],
    ['Alarm Flute', ['Pocket Rooster', 'Alarm Clock']],
    ['Shell Flute', ['Conch Shell', 'Dolphin Flute']],
    ['Eye Glasses', ['3D Glasses', 'X-Ray Goggles']],
    ['Kirisa Plant', ['Kilika Plant']],
    ['Refresh', ['Refresherize', 'Cure', 'Cura', 'Curaga']],
    ['Recover', ['Recoverize', 'Esuna']],
    ['Paralysis', ['Paralycize', 'Stop', 'Pew Pew']],
    ['Telepathy', ['Telepathize', 'Clairvoyance', 'ESP', 'Head Talk']],
    ['Teleport', ['Teleportate', 'Warp', 'Go']],
    ['Change', ['Changeify', 'Transform', 'Disguise']],
    ['Barrier', ['Barrierize', 'Protect', 'Wall', 'Shield']],
    ['Flight', ['Flyify', 'Blight', 'Super Jump']],
    ['Fruit of Lime', ['Fruit of Crime', 'Gold Needle', 'Soft']],
    ['Medical Herb', ['Potion', 'Hi Potion']],
    ['Fruit of Repun', ['Anti-Slime Pill', 'Maiden\'s Kiss']],
]);
export function misspellItems(rom, flags, random) {
    if (flags.unidentifiedItems())
        return;
    if ('sphereAnalysis' in globalThis)
        return;
    const items = random.next() < 0.05 ? rom.items :
        [rom.items[random.nextInt(0x48)]];
    for (const item of items) {
        if (!item)
            continue;
        const newName = MISSPELLINGS.get(item.messageName) || [];
        const index = Math.floor(random.nextInt(3 * newName.length + 1) / 3);
        if (index < newName.length) {
            item.messageName = item.menuName = newName[index];
        }
        else if (item.messageName === item.menuName) {
            const name = item.messageName.split('');
            const pos = random.nextInt(name.length - 1);
            if (name[pos] === ' ' || name[pos + 1] === ' ') {
                return;
            }
            else if (name[pos].toUpperCase() === name[pos]) {
                name.splice(pos + 1, 1);
            }
            else {
                [name[pos], name[pos + 1]] = [name[pos + 1], name[pos]];
            }
            item.messageName = item.menuName = name.join('');
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlzc3BlbGxpdGVtcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9wYXNzL21pc3NwZWxsaXRlbXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsTUFBTSxZQUFZLEdBQWtDLElBQUksR0FBRyxDQUFDO0lBQzFELENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3pDLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNyQyxDQUFDLGdCQUFnQixFQUFFLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDckMsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNwQyxDQUFDLGNBQWMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDcEMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDdEMsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNuQyxDQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM1RSxDQUFDLGNBQWMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ2xDLENBQUMsYUFBYSxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDaEMsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxXQUFXLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDOUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsZUFBZSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNyQyxDQUFDLGFBQWEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzdCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxlQUFlLENB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QUN4QyxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDNUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUU5QyxPQUFPO2FBQ1I7aUJBQU0sSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUVoRCxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDekI7aUJBQU07Z0JBRUwsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUN6RDtZQUNELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ2xEO0tBQ0Y7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGbGFnU2V0fSBmcm9tICcuLi9mbGFnc2V0LmpzJztcbmltcG9ydCB7UmFuZG9tfSBmcm9tICcuLi9yYW5kb20uanMnO1xuaW1wb3J0IHtSb219IGZyb20gJy4uL3JvbS5qcyc7XG5cbmNvbnN0IE1JU1NQRUxMSU5HUzogUmVhZG9ubHlNYXA8c3RyaW5nLCBzdHJpbmdbXT4gPSBuZXcgTWFwKFtcbiAgWydTd29yZCBvZiBXYXRlcicsIFsnSG9yZGUgb2YgT3R0ZXJzJ11dLFxuICBbJ1N3b3JkIG9mIFRodW5kZXInLCBbJ1Nvcmcgb2YgQ2h1bmtlciddXSxcbiAgWydGbGFtZSBCcmFjZWxldCcsIFsnRmFtZSBCcmFjZWxldCddXSxcbiAgWydTdG9ybSBCcmFjZWxldCcsIFsnU3RvbSBCcmFjZWxldCddXSxcbiAgWydTYWNyZWQgU2hpZWxkJywgWydTY2FyZWQgU2hpZWxkJ11dLFxuICBbJ0JvdyBvZiBUcnV0aCcsIFsnQm93IG9mIFN0cmV3dGgnXV0sXG4gIFsnU3RhdHVlIG9mIE9ueXgnLCBbJ1N0YXR1ZSBvZiBPbnh5J11dLFxuICBbJ0l2b3J5IFN0YXR1ZScsIFsnSXZvcnkgU3RhdHV0ZSddXSxcbiAgWydGb2cgTGFtcCcsIFsnRnJvZyBMYW1wJywgJ1Ntb2cgTGFtcCcsICdEb2cgTGFtcCcsICdCb2cgTGFtcCcsICdGb2cgTHVtcCddXSxcbiAgWydHbG93aW5nIExhbXAnLCBbJ0dsb3dpbmcgTHVtcCddXSxcbiAgWydLZXkgdG8gU3R4eScsIFsnS2V5IHRvIFN0eXgnXV0sXG4gIFsnSW5zZWN0IEZsdXRlJywgWydCdWcgRmx1dGUnLCAnQnVnIFdoaXN0bGUnXV0sXG4gIFsnRmx1dGUgb2YgTGltZScsIFsnRmx1dGUgb2YgR3JpbWUnXV0sXG4gIFsnSXJvbiBOZWNrbGFjZScsIFsnSSBSb24gTmVja2xhY2UnXV0sXG4gIFsnU2hpZWxkIFJpbmcnLCBbJ1NobyBSaW5nJ11dLFxuICBbJ0Rlb1xcJ3MgUGVuZGFudCcsIFsnUmFiYml0IE5lY2tsYWNlJywgJ0J1bm55IFBlbmRhbnQnXV0sXG4gIFsnU3BlZWQgQm9vdHMnLCBbJ0hlcm1lcyBTYW5kYWxzJ11dLFxuICBbJ1JhYmJpdCBCb290cycsIFsnRGVvXFwncyBCb290cycsICdKdW1waW5nIEJvb3RzJywgJ1JhYmlkIEJvb3RzJ11dLFxuICBbJ0FsYXJtIEZsdXRlJywgWydQb2NrZXQgUm9vc3RlcicsICdBbGFybSBDbG9jayddXSxcbiAgWydTaGVsbCBGbHV0ZScsIFsnQ29uY2ggU2hlbGwnLCAnRG9scGhpbiBGbHV0ZSddXSxcbiAgWydFeWUgR2xhc3NlcycsIFsnM0QgR2xhc3NlcycsICdYLVJheSBHb2dnbGVzJ11dLFxuICBbJ0tpcmlzYSBQbGFudCcsIFsnS2lsaWthIFBsYW50J11dLFxuICBbJ1JlZnJlc2gnLCBbJ1JlZnJlc2hlcml6ZScsICdDdXJlJywgJ0N1cmEnLCAnQ3VyYWdhJ11dLFxuICBbJ1JlY292ZXInLCBbJ1JlY292ZXJpemUnLCAnRXN1bmEnXV0sXG4gIFsnUGFyYWx5c2lzJywgWydQYXJhbHljaXplJywgJ1N0b3AnLCAnUGV3IFBldyddXSxcbiAgWydUZWxlcGF0aHknLCBbJ1RlbGVwYXRoaXplJywgJ0NsYWlydm95YW5jZScsICdFU1AnLCAnSGVhZCBUYWxrJ11dLFxuICBbJ1RlbGVwb3J0JywgWydUZWxlcG9ydGF0ZScsICdXYXJwJywgJ0dvJ11dLFxuICBbJ0NoYW5nZScsIFsnQ2hhbmdlaWZ5JywgJ1RyYW5zZm9ybScsICdEaXNndWlzZSddXSxcbiAgWydCYXJyaWVyJywgWydCYXJyaWVyaXplJywgJ1Byb3RlY3QnLCAnV2FsbCcsICdTaGllbGQnXV0sXG4gIFsnRmxpZ2h0JywgWydGbHlpZnknLCAnQmxpZ2h0JywgJ1N1cGVyIEp1bXAnXV0sXG4gIFsnRnJ1aXQgb2YgTGltZScsIFsnRnJ1aXQgb2YgQ3JpbWUnLCAnR29sZCBOZWVkbGUnLCAnU29mdCddXSxcbiAgWydNZWRpY2FsIEhlcmInLCBbJ1BvdGlvbicsICdIaSBQb3Rpb24nXV0sXG4gIFsnRnJ1aXQgb2YgUmVwdW4nLCBbJ0FudGktU2xpbWUgUGlsbCcsICdNYWlkZW5cXCdzIEtpc3MnXV0sXG5dKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1pc3NwZWxsSXRlbXMocm9tOiBSb20sIGZsYWdzOiBGbGFnU2V0LCByYW5kb206IFJhbmRvbSkge1xuICBpZiAoZmxhZ3MudW5pZGVudGlmaWVkSXRlbXMoKSkgcmV0dXJuO1xuICBpZiAoJ3NwaGVyZUFuYWx5c2lzJyBpbiBnbG9iYWxUaGlzKSByZXR1cm47IC8vIHNraXAgdGhpcyB3aGVuIGFuYWx5emluZ1xuICAvLyBQaWNrIGEgc2luZ2xlIGl0ZW0gdG8gbWlzc3BlbGwuICA1JSBjaGFuY2Ugb2YgbWlzc3BlbGxpbmcgX2V2ZXJ5dGhpbmdfLlxuICBjb25zdCBpdGVtcyA9IHJhbmRvbS5uZXh0KCkgPCAwLjA1ID8gcm9tLml0ZW1zIDpcbiAgICAgIFtyb20uaXRlbXNbcmFuZG9tLm5leHRJbnQoMHg0OCldXTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgaWYgKCFpdGVtKSBjb250aW51ZTtcbiAgICBjb25zdCBuZXdOYW1lID0gTUlTU1BFTExJTkdTLmdldChpdGVtLm1lc3NhZ2VOYW1lKSB8fCBbXTtcbiAgICAvLyBVc2UgY3VzdG9tIG1pc3NwZWxsaW5nIDN4IG1vcmUgb2Z0ZW4gdGhhbiBhIHJhbmRvbSBvbmVcbiAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IocmFuZG9tLm5leHRJbnQoMyAqIG5ld05hbWUubGVuZ3RoICsgMSkgLyAzKTtcbiAgICBpZiAoaW5kZXggPCBuZXdOYW1lLmxlbmd0aCkge1xuICAgICAgLy8gVXNlIG9uZSBvZiB0aGUgY3VzdG9tIG1pc3NwZWxsaW5nc1xuICAgICAgaXRlbS5tZXNzYWdlTmFtZSA9IGl0ZW0ubWVudU5hbWUgPSBuZXdOYW1lW2luZGV4XTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0ubWVzc2FnZU5hbWUgPT09IGl0ZW0ubWVudU5hbWUpIHtcbiAgICAgIC8vIE1ha2UgYSByYW5kb20gZXJyb3IgYnkgc3dhcHBpbmcgdHdvIGxldHRlcnMgb3IgZGVsZXRpbmcgb25lIGxldHRlci5cbiAgICAgIGNvbnN0IG5hbWUgPSBpdGVtLm1lc3NhZ2VOYW1lLnNwbGl0KCcnKTtcbiAgICAgIGNvbnN0IHBvcyA9IHJhbmRvbS5uZXh0SW50KG5hbWUubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAobmFtZVtwb3NdID09PSAnICcgfHwgbmFtZVtwb3MgKyAxXSA9PT0gJyAnKSB7XG4gICAgICAgIC8vIE5vdCBtdWNoIHdlIGNhbiBkbyB3aXRoIGEgc3BhY2UsIHNvIGp1c3QgZ2l2ZSB1cC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChuYW1lW3Bvc10udG9VcHBlckNhc2UoKSA9PT0gbmFtZVtwb3NdKSB7XG4gICAgICAgIC8vIERvbid0IHN3YXAgdXBwZXJjYXNlIGxldHRlcnMgd2l0aCB0aGUgb25lIGFmdGVyOiBpbnN0ZWFkIGRlbGV0ZSBuZXh0XG4gICAgICAgIG5hbWUuc3BsaWNlKHBvcyArIDEsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU3dhcCB0d28gYWRqYWNlbnQgbGV0dGVyc1xuICAgICAgICBbbmFtZVtwb3NdLCBuYW1lW3BvcyArIDFdXSA9IFtuYW1lW3BvcyArIDFdLCBuYW1lW3Bvc11dO1xuICAgICAgfVxuICAgICAgaXRlbS5tZXNzYWdlTmFtZSA9IGl0ZW0ubWVudU5hbWUgPSBuYW1lLmpvaW4oJycpO1xuICAgIH1cbiAgfVxufVxuIl19