import { Entity, EntityArray } from './entity.js';
import { MessageId } from './messageid.js';
import { hex, readString, tuple, ITEM_USE_FLAGS, ITEM_CONDITION_FLAGS, relocExportLabel } from './util.js';
import { Address, Segment } from './util.js';
import { assertNever } from '../util.js';
const { $0e, $0f, $10, $1a, $fe, $ff } = Segment;
const ITEM_USE_JUMP_TABLE = Address.of($0e, 0x8399);
const ITEM_USE_DATA_TABLE = Address.of($0e, 0x9be2);
const ITEM_DATA_TABLE = Address.of($10, 0x8ff0);
const SELECTED_ITEM_TABLE = Address.of($10, 0x903b);
const MENU_NAME_TABLE = Address.of($10, 0x9086);
const ARMOR_DEFENSE_TABLE = Address.of($1a, 0x8bc0);
const SHIELD_DEFENSE_TABLE = Address.of($1a, 0x8bc9);
const MENU_NAME_ENCODE = [
    ['Sword', '\x0a\x0b\x0c'],
    [' of ', '\x5c\x5d'],
    ['Bracelet', '\x3c\x3d\x3e\x5b'],
    ['Shield', '\x0d\x0e\x0f'],
    ['Armor', '\x7b\x11\x12'],
    ['Magic', '\x23\x25\x28'],
    ['Power', '\x13\x14\x15'],
    ['Item', '\x16\x17\x5e'],
];
export class Item extends Entity {
    constructor(items, id, opts = {}) {
        super(items.rom, id);
        this.items = items;
        const rom = this.rom;
        items[id] = this;
        this.itemUseData = [];
        this.trades = opts.trades || [];
        this.use = opts.use || false;
        this.weight = opts.weight || 1;
        this.valueAddr =
            opts.valueAddr != null ? Address.of($0e, opts.valueAddr) : undefined;
        if (this.valueAddr != null)
            this.value = this.valueAddr.read(rom.prg);
        if (this.use) {
            this.itemUseJump =
                this.itemUseJumpPointer.readAddress(rom.prg, $0e, $0f);
            const entries = items.itemUseJumps[this.itemUseJump.org];
            if (!entries)
                throw new Error(`Bad ItemUseJump: ${this.itemUseJump}`);
            let itemUseOffset = this.itemUseDataPointer.readAddress(rom.prg, $0e, $0f);
            for (const entry of entries) {
                const data = ItemUse.from(entry, rom.prg, itemUseOffset);
                this.itemUseData.push(data);
                itemUseOffset = itemUseOffset.plus(data.length);
            }
        }
        this.itemDataValue = this.itemDataPointer.read(rom.prg);
        this.selectedItemValue = this.selectedItemPointer.read(rom.prg);
        const menuNameBase = this.menuNamePointer.readAddress(rom.prg);
        this.menuName =
            MENU_NAME_ENCODE.reduce((s, [d, e]) => s.replace(e, d), readString(rom.prg, menuNameBase.offset, 0xff));
    }
    get messageName() {
        return this.rom.messages.itemNames[this.id];
    }
    set messageName(name) {
        this.rom.messages.itemNames[this.id] = name;
    }
    get basePrice() {
        return this.rom.shops.basePrices[this.id];
    }
    set basePrice(price) {
        this.rom.shops.basePrices[this.id] = price;
    }
    get itemUseJumpPointer() {
        return ITEM_USE_JUMP_TABLE.plus(this.id << 1);
    }
    get itemUseDataPointer() {
        return ITEM_USE_DATA_TABLE.plus(this.id << 1);
    }
    get itemDataPointer() {
        return ITEM_DATA_TABLE.plus(this.id);
    }
    get selectedItemPointer() {
        return SELECTED_ITEM_TABLE.plus(this.id);
    }
    get menuNamePointer() {
        return MENU_NAME_TABLE.plus(this.id << 1);
    }
    itemUseMessages() {
        const messages = new Map();
        for (const { message } of this.itemUseData) {
            messages.set(message.mid, message);
        }
        return [...messages.values()];
    }
    setName(name) {
        this.messageName = this.menuName = name;
    }
    get palette() { return this.itemDataValue & 3; }
    set palette(p) { this.itemDataValue = this.itemDataValue & ~3 | (p & 3); }
    get unique() { return !!(this.itemDataValue & 0x40); }
    set unique(u) { this.itemDataValue = this.itemDataValue & ~0x40 | (u ? 0x40 : 0); }
    get worn() { return !!(this.itemDataValue & 0x20); }
    set worn(w) { this.itemDataValue = this.itemDataValue & ~0x20 | (w ? 0x20 : 0); }
    get solid() { return !!(this.itemDataValue & 0x80); }
    set solid(s) { this.itemDataValue = this.itemDataValue & ~0x80 | (s ? 0x80 : 0); }
    assemble(a) {
        const id = hex(this.id);
        this.itemDataPointer.loc(a, `ItemData_${id}`);
        a.byte(this.itemDataValue);
        this.selectedItemPointer.loc(a, `ItemSelectedValue_${id}`);
        a.byte(this.selectedItemValue);
        const menuNameEncoded = MENU_NAME_ENCODE.reduce((s, [d, e]) => s.replace(d, e), this.menuName);
        a.segment($10, $fe, $ff);
        a.reloc(`ItemMenuName_${hex(this.id)}`);
        const menuNameAddr = a.pc();
        a.byte(menuNameEncoded, 0xff);
        this.menuNamePointer.loc(a, `ItemMenuName_${id}`);
        a.word(menuNameAddr);
        if (this.itemUseJump) {
            this.itemUseJumpPointer.loc(a, `ItemUseJump_${id}_Ptr`);
            a.word(this.itemUseJump.org);
            const itemUseData = [];
            for (const use of this.itemUseData) {
                itemUseData.push(...use.bytes());
            }
            a.segment($0e.name, $0f.name);
            a.reloc(`ItemUseData_${id}`);
            const usePtr = a.pc();
            a.byte(...itemUseData);
            this.itemUseDataPointer.loc(a, `ItemUseData_${id}_Ptr`);
            a.word(usePtr);
        }
        if (this.valueAddr) {
            this.valueAddr.loc(a, `ItemValue_${id}`);
            a.byte(this.value);
        }
        if (this.itemUseData.some(u => u.tradeNpc() === this.rom.npcs.Aryllis.id)) {
            a.segment('fe');
            a.org(0xd4b5);
            a.byte(this.id - 0x1c);
        }
    }
    isMagic() {
        return this.id >= 0x41 && this.id <= 0x48;
    }
}
export class ItemUse {
    constructor(kind, want, message, flags) {
        this.kind = kind;
        this.want = want;
        this.message = message;
        this.flags = flags;
    }
    static from(kind, data, addr) {
        let { offset } = addr;
        let want = 0;
        if (kind === 'expect' || kind === 'screen') {
            want = data[offset + 1] << 8 | data[offset];
            offset += 2;
        }
        else if (kind === 'flag') {
            const flags = ITEM_CONDITION_FLAGS.read(data, offset);
            if (!flags.length)
                flags.push(~0);
            if (flags.length > 1)
                throw new Error(`Flag list too long: ${flags}`);
            want = flags[0];
            offset += 2;
        }
        else if (kind === 'location') {
            want = data[offset++];
        }
        else if (kind !== 'empty') {
            assertNever(kind);
        }
        const message = MessageId.from(data, offset);
        const flags = ITEM_USE_FLAGS.read(data, offset + 2);
        return new ItemUse(kind, want, message, flags);
    }
    bytes() {
        const bytes = [];
        if (this.kind === 'expect' || this.kind === 'screen') {
            bytes.push(this.want & 0xff, (this.want >>> 8) & 0xff);
        }
        else if (this.kind === 'flag') {
            const flagBytes = ITEM_CONDITION_FLAGS.bytes([this.want]);
            if (flagBytes.length !== 2)
                throw new Error(`bad data: ${flagBytes}`);
            bytes.push(...flagBytes);
        }
        else if (this.kind === 'location') {
            bytes.push(this.want);
        }
        else if (this.kind !== 'empty') {
            assertNever(this.kind);
        }
        bytes.push(...this.message.data);
        bytes.push(...ITEM_USE_FLAGS.bytes(this.flags));
        return bytes;
    }
    tradeNpc() {
        if (this.kind !== 'expect')
            return null;
        if ((this.want >>> 8) !== 1)
            return null;
        return this.want & 0xff;
    }
    get length() {
        const header = this.kind === 'empty' ? 0 : this.kind === 'location' ? 1 : 2;
        return 2 * (1 + Math.max(1, this.flags.length)) + header;
    }
}
class Shield extends Item {
    get defense() {
        return this.items.shieldDefense[this.id - 0x0c];
    }
    set defense(def) {
        this.items.shieldDefense[this.id - 0x0c] = def;
    }
}
class Armor extends Item {
    get defense() {
        return this.items.armorDefense[this.id - 0x14];
    }
    set defense(def) {
        this.items.armorDefense[this.id - 0x14] = def;
    }
}
export class Items extends EntityArray {
    constructor(rom) {
        super(0x49);
        this.rom = rom;
        this.itemUseJumps = DEFAULT_ITEM_USE_JUMPS;
        this.SwordOfWind = new Item(this, 0x00);
        this.SwordOfFire = new Item(this, 0x01);
        this.SwordOfWater = new Item(this, 0x02);
        this.SwordOfThunder = new Item(this, 0x03);
        this.Crystalis = new Item(this, 0x04);
        this.BallOfWind = new Item(this, 0x05);
        this.TornadoBracelet = new Item(this, 0x06);
        this.BallOfFire = new Item(this, 0x07);
        this.FlameBracelet = new Item(this, 0x08);
        this.BallOfWater = new Item(this, 0x09);
        this.BlizzardBracelet = new Item(this, 0x0a);
        this.BallOfThunder = new Item(this, 0x0b);
        this.StormBracelet = new Item(this, 0x0c);
        this.CarapaceShield = new Shield(this, 0x0d);
        this.BronzeShield = new Shield(this, 0x0e);
        this.PlatinumShield = new Shield(this, 0x0f);
        this.MirroredShield = new Shield(this, 0x10);
        this.CeramicShield = new Shield(this, 0x11);
        this.SacredShield = new Shield(this, 0x12);
        this.BattleShield = new Shield(this, 0x13);
        this.PsychoShield = new Shield(this, 0x14);
        this.TannedHide = new Armor(this, 0x15);
        this.LeatherArmor = new Armor(this, 0x16);
        this.BronzeArmor = new Armor(this, 0x17);
        this.PlatinumArmor = new Armor(this, 0x18);
        this.SoldierSuit = new Armor(this, 0x19);
        this.CeramicSuit = new Armor(this, 0x1a);
        this.BattleArmor = new Armor(this, 0x1b);
        this.PsychoArmor = new Armor(this, 0x1c);
        this.MedicalHerb = new Item(this, 0x1d, { use: true,
            trades: [0],
            valueAddr: 0x84ea });
        this.Antidote = new Item(this, 0x1e, { use: true });
        this.LysisPlant = new Item(this, 0x1f, { use: true });
        this.FruitOfLime = new Item(this, 0x20, { use: true });
        this.FruitOfPower = new Item(this, 0x21, { use: true,
            valueAddr: 0x850c });
        this.MagicRing = new Item(this, 0x22, { use: true });
        this.FruitOfRepun = new Item(this, 0x23, { use: true });
        this.WarpBoots = new Item(this, 0x24, { use: true });
        this.StatueOfOnyx = new Item(this, 0x25, { use: true, trades: [0] });
        this.OpelStatue = new Item(this, 0x26, { use: true });
        this.InsectFlute = new Item(this, 0x27, { use: true });
        this.FluteOfLime = new Item(this, 0x28, { use: true,
            trades: [0, 1, 2, 3] });
        this.GasMask = new Item(this, 0x29);
        this.PowerRing = new Item(this, 0x2a);
        this.WarriorRing = new Item(this, 0x2b);
        this.IronNecklace = new Item(this, 0x2c);
        this.DeosPendant = new Item(this, 0x2d);
        this.RabbitBoots = new Item(this, 0x2e);
        this.LeatherBoots = new Item(this, 0x2f);
        this.ShieldRing = new Item(this, 0x30);
        this.AlarmFlute = new Item(this, 0x31, { use: true, trades: [0, 1] });
        this.WindmillKey = new Item(this, 0x32, { use: true });
        this.KeyToPrison = new Item(this, 0x33, { use: true });
        this.KeyToStyx = new Item(this, 0x34, { use: true });
        this.FogLamp = new Item(this, 0x35, { use: true, trades: [0] });
        this.ShellFlute = new Item(this, 0x36, { use: true });
        this.EyeGlasses = new Item(this, 0x37, { use: true });
        this.BrokenStatue = new Item(this, 0x38, { use: true });
        this.GlowingLamp = new Item(this, 0x39, { use: true });
        this.StatueOfGold = new Item(this, 0x3a, { use: true });
        this.LovePendant = new Item(this, 0x3b, { use: true, trades: [0] });
        this.KirisaPlant = new Item(this, 0x3c, { use: true, trades: [0] });
        this.IvoryStatue = new Item(this, 0x3d, { use: true, trades: [0] });
        this.BowOfMoon = new Item(this, 0x3e, { use: true });
        this.BowOfSun = new Item(this, 0x3f, { use: true });
        this.BowOfTruth = new Item(this, 0x40, { use: true });
        this.Refresh = new Item(this, 0x41);
        this.Paralysis = new Item(this, 0x42);
        this.Telepathy = new Item(this, 0x43);
        this.Teleport = new Item(this, 0x44);
        this.Recover = new Item(this, 0x45);
        this.Barrier = new Item(this, 0x46);
        this.Change = new Item(this, 0x47);
        this.Flight = new Item(this, 0x48);
        this.armorDefense = tuple(rom.prg, ARMOR_DEFENSE_TABLE.offset, 9);
        this.shieldDefense = tuple(rom.prg, SHIELD_DEFENSE_TABLE.offset, 9);
    }
    write() {
        const a = this.rom.assembler();
        ARMOR_DEFENSE_TABLE.loc(a);
        a.byte(...this.armorDefense);
        SHIELD_DEFENSE_TABLE.loc(a);
        a.byte(...this.shieldDefense);
        const uniqueTable = new Array(10).fill(0);
        for (const item of this) {
            item.assemble(a);
            if (item.unique)
                uniqueTable[item.id >>> 3] |= (1 << (item.id & 7));
        }
        relocExportLabel(a, [$0e, $0f], 'KeyItemData');
        a.byte(...uniqueTable);
        return [a.module()];
    }
}
const DEFAULT_ITEM_USE_JUMPS = {
    0x8439: ['expect'],
    0x8442: ['screen'],
    0x8450: ['empty'],
    0x8451: ['screen'],
    0x845f: ['location'],
    0x8491: ['expect'],
    0x84a9: ['expect', 'expect'],
    0x84b3: ['location'],
    0x84d0: ['expect'],
    0x84db: [],
    0x84e0: ['expect', 'empty'],
    0x8507: ['empty'],
    0x851d: ['empty'],
    0x8524: ['empty'],
    0x852f: ['empty'],
    0x853a: ['empty'],
    0x854a: ['empty'],
    0x8564: ['empty'],
    0x8565: ['expect'],
    0x856b: ['flag'],
    0x8585: ['empty'],
    0x859e: ['expect', 'expect', 'expect', 'expect'],
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9yb20vaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUMsTUFBTSxFQUFFLFdBQVcsRUFBQyxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDekMsT0FBTyxFQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUM1QixjQUFjLEVBQUUsb0JBQW9CLEVBQUUsZ0JBQWdCLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDM0UsT0FBTyxFQUFDLE9BQU8sRUFBUSxPQUFPLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFFakQsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLFlBQVksQ0FBQztBQUV2QyxNQUFNLEVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUMsR0FBRyxPQUFPLENBQUM7QUFFL0MsTUFBTSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNwRCxNQUFNLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3BELE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2hELE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDcEQsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFFaEQsTUFBTSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNwRCxNQUFNLG9C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RSxJQUFJLENBQUMsQ0FBQztRQUN4QyxrQkFBYSxHQUFNLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4QyxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4QyxxQkFBZ0IsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsa0JBQWEsR0FBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsa0JBQWEsR0FBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFeEMsbUJBQWMsR0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsaUJBQVksR0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsbUJBQWMsR0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsbUJBQWMsR0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsa0JBQWEsR0FBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsaUJBQVksR0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsaUJBQVksR0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUMsaUJBQVksR0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFMUMsZUFBVSxHQUFTLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxpQkFBWSxHQUFPLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxnQkFBVyxHQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxrQkFBYSxHQUFNLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxnQkFBVyxHQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxnQkFBVyxHQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxnQkFBVyxHQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxnQkFBVyxHQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV6QyxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSTtZQUNULE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNYLFNBQVMsRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDO1FBQzdELGFBQVEsR0FBVyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFDckQsZUFBVSxHQUFTLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxpQkFBWSxHQUFPLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSTtZQUNULFNBQVMsRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDO1FBQzdELGNBQVMsR0FBVSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENB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RyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFDckQsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFDckQsaUJBQVksR0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFDckQsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDbEUsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDbEUsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDbEUsY0FBUyxHQUFVLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxhQUFRLEdBQVcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGVBQVUsR0FBUyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFFckQsWUFBTyxHQUFZLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4QyxjQUFTLEdBQVUsSUFBSSxJQUFJLENBQUMsSUFB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TSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBRWpCLE1BQU0sRUFBRSxDQUFDLE9BQU8sQ0FBQztJQUVqQixNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFFakIsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDO0lBRWxCLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQztJQUVoQixNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFFakIsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDO0NBQ2pELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fzc2VtYmxlcn0gZnJvbSAnLi4vYXNtL2Fzc2VtYmxlci5qcyc7XG5pbXBvcnQge01vZHVsZX0gZnJvbSAnLi4vYXNtL21vZHVsZS5qcyc7XG5pbXBvcnQge0VudGl0eSwgRW50aXR5QXJyYXl9IGZyb20gJy4vZW50aXR5LmpzJztcbmltcG9ydCB7TWVzc2FnZUlkfSBmcm9tICcuL21lc3NhZ2VpZC5qcyc7XG5pbXBvcnQge2hleCwgcmVhZFN0cmluZywgdHVwbGUsXG4gIElURU1fVVNFX0ZMQUdTLCBJVEVNX0NPTkRJVElPTl9GTEFHUywgcmVsb2NFeHBvcnRMYWJlbH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7QWRkcmVzcywgRGF0YSwgU2VnbWVudH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7Um9tfSBmcm9tICcuLi9yb20uanMnO1xuaW1wb3J0IHthc3NlcnROZXZlcn0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbmNvbnN0IHskMGUsICQwZiwgJDEwLCAkMWEsICRmZSwgJGZmfSA9IFNlZ21lbnQ7XG5cbmNvbnN0IElURU1fVVNFX0pVTVBfVEFCTEUgPSBBZGRyZXNzLm9mKCQwZSwgMHg4Mzk5KTtcbmNvbnN0IElURU1fVVNFX0RBVEFfVEFCTEUgPSBBZGRyZXNzLm9mKCQwZSwgMHg5YmUyKTtcbmNvbnN0IElURU1fREFUQV9UQUJMRSA9IEFkZHJlc3Mub2YoJDEwLCAweDhmZjApO1xuY29uc3QgU0VMRUNURURfSVRFTV9UQUJMRSA9IEFkZHJlc3Mub2YoJDEwLCAweDkwM2IpO1xuY29uc3QgTUVOVV9OQU1FX1RBQkxFID0gQWRkcmVzcy5vZigkMTAsIDB4OTA4Nik7XG5cbmNvbnN0IEFSTU9SX0RFRkVOU0VfVEFCTEUgPSBBZGRyZXNzLm9mKCQxYSwgMHg4YmMwKTtcbmNvbnN0IFNISUVMRF9ERUZFTlNFX1RBQkxFID0gQWRkcmVzcy5vZigkMWEsIDB4OGJjOSk7XG5cbi8vIE1hcCB0byBwYXR0ZXJuIGVudHJpZXMgZm9yIGNvbWJpbmF0aW9ucyBvZiBsZXR0ZXJzLlxuY29uc3QgTUVOVV9OQU1FX0VOQ09ERSA9IFtcbiAgWydTd29yZCcsICdcXHgwYVxceDBiXFx4MGMnXSxcbiAgWycgb2YgJywgJ1xceDVjXFx4NWQnXSxcbiAgWydCcmFjZWxldCcsICdcXHgzY1xceDNkXFx4M2VcXHg1YiddLFxuICBbJ1NoaWVsZCcsICdcXHgwZFxceDBlXFx4MGYnXSxcbiAgWydBcm1vcicsICdcXHg3YlxceDExXFx4MTInXSxcbiAgWydNYWdpYycsICdcXHgyM1xceDI1XFx4MjgnXSxcbiAgWydQb3dlcicsICdcXHgxM1xceDE0XFx4MTUnXSxcbiAgWydJdGVtJywgJ1xceDE2XFx4MTdcXHg1ZSddLFxuXTtcblxuaW50ZXJmYWNlIEl0ZW1PcHRpb25zIHtcbiAgdHJhZGVzPzogbnVtYmVyW107XG4gIHVzZT86IGJvb2xlYW47XG4gIHdlaWdodD86IG51bWJlcjtcbiAgLy8gYWRkcmVzcyAod2l0aGluIHNlZ21lbnQgMGUpIG9mIHRoZSB2YWx1ZSBzcGVjaWZ5aW5nIGhvdyBtdWNoIHRvIGhlYWwuXG4gIHZhbHVlQWRkcj86IG51bWJlcjtcbn1cblxuLy8gQW4gaXRlbTsgbm90ZSB0aGF0IHNvbWUgdGFibGVzIGdvIHVwIHRvICQ0OSBvciBldmVuICQ0YSAtIHRoZXNlIGNhbiBiYmUgaWdub3JlZFxuZXhwb3J0IGNsYXNzIEl0ZW0gZXh0ZW5kcyBFbnRpdHkge1xuXG4gIGl0ZW1Vc2VKdW1wPzogQWRkcmVzcztcbiAgaXRlbVVzZURhdGE6IEl0ZW1Vc2VbXTtcblxuICBpdGVtRGF0YVZhbHVlOiBudW1iZXI7IC8vIDowMyBpcyBwYWxldHRlLCA6ODAgaXMgc3dvcmQgYW5kIG1hZ2ljIChzb2xpZCBiZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6NDAgaXMgdW5pcXVlLCA6MjAgaXMgd29ybiAoc3dvcmQvYW1vci9vcmIvcmluZy9tYWdpYylcbiAgLy8gb25seSB1c2VkIGZvciBkaXNhYmxpbmcgb3BlbCBzdGF0dWUgdXNlXG4gIHNlbGVjdGVkSXRlbVZhbHVlOiBudW1iZXI7XG5cbiAgLy8gUFJPQkxFTSAtIHJlYWQgaW4gb25lIGZvcm1hdCwgd3JpdGUgaW4gYW5vdGhlci4uLj9cbiAgbWVudU5hbWU6IHN0cmluZztcblxuICB0cmFkZXM6IG51bWJlcltdO1xuICB1c2U6IGJvb2xlYW47XG5cbiAgdmFsdWVBZGRyPzogQWRkcmVzcztcbiAgdmFsdWU/OiBudW1iZXI7XG5cbiAgLy8gV2VpZ2h0IGZvciBzaHVmZmxpbmcgLSBoaWdoZXIgbnVtYmVycyB3aWxsIGJlIHBsYWNlZCBlYXJsaWVyLlxuICB3ZWlnaHQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBpdGVtczogSXRlbXMsIGlkOiBudW1iZXIsIG9wdHM6IEl0ZW1PcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihpdGVtcy5yb20sIGlkKTtcbiAgICBjb25zdCByb20gPSB0aGlzLnJvbTtcbiAgICBpdGVtc1tpZF0gPSB0aGlzO1xuICAgIHRoaXMuaXRlbVVzZURhdGEgPSBbXTtcbiAgICB0aGlzLnRyYWRlcyA9IG9wdHMudHJhZGVzIHx8IFtdO1xuICAgIHRoaXMudXNlID0gb3B0cy51c2UgfHwgZmFsc2U7XG4gICAgdGhpcy53ZWlnaHQgPSBvcHRzLndlaWdodCB8fCAxO1xuICAgIHRoaXMudmFsdWVBZGRyID1cbiAgICAgICAgb3B0cy52YWx1ZUFkZHIgIT0gbnVsbCA/IEFkZHJlc3Mub2YoJDBlLCBvcHRzLnZhbHVlQWRkcikgOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMudmFsdWVBZGRyICE9IG51bGwpIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlQWRkci5yZWFkKHJvbS5wcmcpO1xuXG4gICAgaWYgKHRoaXMudXNlKSB7XG4gICAgICB0aGlzLml0ZW1Vc2VKdW1wID1cbiAgICAgICAgICB0aGlzLml0ZW1Vc2VKdW1wUG9pbnRlci5yZWFkQWRkcmVzcyhyb20ucHJnLCAkMGUsICQwZik7XG4gICAgICBjb25zdCBlbnRyaWVzID0gaXRlbXMuaXRlbVVzZUp1bXBzW3RoaXMuaXRlbVVzZUp1bXAub3JnXTtcbiAgICAgIGlmICghZW50cmllcykgdGhyb3cgbmV3IEVycm9yKGBCYWQgSXRlbVVzZUp1bXA6ICR7dGhpcy5pdGVtVXNlSnVtcH1gKTtcbiAgICAgIGxldCBpdGVtVXNlT2Zmc2V0ID1cbiAgICAgICAgICB0aGlzLml0ZW1Vc2VEYXRhUG9pbnRlci5yZWFkQWRkcmVzcyhyb20ucHJnLCAkMGUsICQwZik7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEl0ZW1Vc2UuZnJvbShlbnRyeSwgcm9tLnByZywgaXRlbVVzZU9mZnNldCk7XG4gICAgICAgIHRoaXMuaXRlbVVzZURhdGEucHVzaChkYXRhKTtcbiAgICAgICAgaXRlbVVzZU9mZnNldCA9IGl0ZW1Vc2VPZmZzZXQucGx1cyhkYXRhLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pdGVtRGF0YVZhbHVlID0gdGhpcy5pdGVtRGF0YVBvaW50ZXIucmVhZChyb20ucHJnKTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbVZhbHVlID0gdGhpcy5zZWxlY3RlZEl0ZW1Qb2ludGVyLnJlYWQocm9tLnByZyk7XG5cbiAgICBjb25zdCBtZW51TmFtZUJhc2UgPSB0aGlzLm1lbnVOYW1lUG9pbnRlci5yZWFkQWRkcmVzcyhyb20ucHJnKTtcbiAgICB0aGlzLm1lbnVOYW1lID1cbiAgICAgICAgTUVOVV9OQU1FX0VOQ09ERS5yZWR1Y2UoKHMsIFtkLCBlXSkgPT4gcy5yZXBsYWNlKGUsIGQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkU3RyaW5nKHJvbS5wcmcsIG1lbnVOYW1lQmFzZS5vZmZzZXQsIDB4ZmYpKTtcblxuICAgIC8vIGNvbnN0IHRyYWRlSW5Db3VudCA9IFRSQURFX0lOUy5nZXQoaWQpO1xuICAgIC8vIHRoaXMudHJhZGVJbiA9XG4gICAgLy8gICAgIHRyYWRlSW5Db3VudCA/IHR1cGxlKHJvbS5wcmcsIHRoaXMuaXRlbVVzZURhdGFCYXNlLCA2ICogdHJhZGVJbkNvdW50KSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIGNvbnNvbGUubG9nKGBJdGVtICR7dGhpcy5tZW51TmFtZX0gYmFzZSBwcmljZSAke3RoaXMuYmFzZVByaWNlfWApO1xuICAgIC8vIFRPRE8gLSByb20udW5pcXVlSXRlbVRhYmxlQWRkcmVzc1xuICAgIC8vICAtPiBjdXJyZW50IGhhcmQtY29kZWQgaW4gcGF0Y2guaWRlbnRpZnlLZXlJdGVtc0ZvckRpZmZpY3VsdHlCdWZmc1xuICB9XG5cbiAgZ2V0IG1lc3NhZ2VOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucm9tLm1lc3NhZ2VzLml0ZW1OYW1lc1t0aGlzLmlkXTtcbiAgfVxuICBzZXQgbWVzc2FnZU5hbWUobmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5yb20ubWVzc2FnZXMuaXRlbU5hbWVzW3RoaXMuaWRdID0gbmFtZTtcbiAgfVxuXG4gIGdldCBiYXNlUHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5yb20uc2hvcHMuYmFzZVByaWNlc1t0aGlzLmlkXTtcbiAgfVxuICBzZXQgYmFzZVByaWNlKHByaWNlOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvbS5zaG9wcy5iYXNlUHJpY2VzW3RoaXMuaWRdID0gcHJpY2U7XG4gIH1cblxuICBnZXQgaXRlbVVzZUp1bXBQb2ludGVyKCk6IEFkZHJlc3Mge1xuICAgIHJldHVybiBJVEVNX1VTRV9KVU1QX1RBQkxFLnBsdXModGhpcy5pZCA8PCAxKTtcbiAgfVxuXG4gIGdldCBpdGVtVXNlRGF0YVBvaW50ZXIoKTogQWRkcmVzcyB7XG4gICAgcmV0dXJuIElURU1fVVNFX0RBVEFfVEFCTEUucGx1cyh0aGlzLmlkIDw8IDEpO1xuICB9XG5cbiAgZ2V0IGl0ZW1EYXRhUG9pbnRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gSVRFTV9EQVRBX1RBQkxFLnBsdXModGhpcy5pZCk7XG4gIH1cblxuICBnZXQgc2VsZWN0ZWRJdGVtUG9pbnRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gU0VMRUNURURfSVRFTV9UQUJMRS5wbHVzKHRoaXMuaWQpO1xuICB9XG5cbiAgZ2V0IG1lbnVOYW1lUG9pbnRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gTUVOVV9OQU1FX1RBQkxFLnBsdXModGhpcy5pZCA8PCAxKTtcbiAgfVxuXG4gIGl0ZW1Vc2VNZXNzYWdlcygpOiBNZXNzYWdlSWRbXSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBuZXcgTWFwPHN0cmluZywgTWVzc2FnZUlkPigpO1xuICAgIGZvciAoY29uc3Qge21lc3NhZ2V9IG9mIHRoaXMuaXRlbVVzZURhdGEpIHtcbiAgICAgIG1lc3NhZ2VzLnNldChtZXNzYWdlLm1pZCwgbWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBbLi4ubWVzc2FnZXMudmFsdWVzKCldO1xuICB9XG5cbiAgc2V0TmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm1lc3NhZ2VOYW1lID0gdGhpcy5tZW51TmFtZSA9IG5hbWU7XG4gIH1cblxuICAvLyBQYWxldHRlIGZvciBtZW51IGljb25cbiAgZ2V0IHBhbGV0dGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaXRlbURhdGFWYWx1ZSAmIDM7IH1cbiAgc2V0IHBhbGV0dGUocDogbnVtYmVyKSB7IHRoaXMuaXRlbURhdGFWYWx1ZSA9IHRoaXMuaXRlbURhdGFWYWx1ZSAmIH4zIHwgKHAgJiAzKTsgfVxuXG4gIC8vIFVuaXF1ZSBpdGVtOiBjYW5ub3QgYmUgZHJvcHBlZCBvciBzb2xkXG4gIGdldCB1bmlxdWUoKTogYm9vbGVhbiB7IHJldHVybiAhISh0aGlzLml0ZW1EYXRhVmFsdWUgJiAweDQwKTsgfVxuICBzZXQgdW5pcXVlKHU6IGJvb2xlYW4pIHsgdGhpcy5pdGVtRGF0YVZhbHVlID0gdGhpcy5pdGVtRGF0YVZhbHVlICYgfjB4NDAgfCAodSA/IDB4NDAgOiAwKTsgfVxuXG4gIC8vIFdvcm4gaXRlbSAoc3dvcmQvYXJtb3Ivb3JiL3JpbmcvbWFnaWMpIC0gbm90IGNsZWFyIHdoZXJlIHRoaXMgaXMgdXNlZFxuICBnZXQgd29ybigpOiBib29sZWFuIHsgcmV0dXJuICEhKHRoaXMuaXRlbURhdGFWYWx1ZSAmIDB4MjApOyB9XG4gIHNldCB3b3JuKHc6IGJvb2xlYW4pIHsgdGhpcy5pdGVtRGF0YVZhbHVlID0gdGhpcy5pdGVtRGF0YVZhbHVlICYgfjB4MjAgfCAodyA/IDB4MjAgOiAwKTsgfVxuXG4gIC8vIFNvbGlkIGJhY2tncm91bmQgKHN3b3JkL21hZ2ljKVxuICBnZXQgc29saWQoKTogYm9vbGVhbiB7IHJldHVybiAhISh0aGlzLml0ZW1EYXRhVmFsdWUgJiAweDgwKTsgfVxuICBzZXQgc29saWQoczogYm9vbGVhbikgeyB0aGlzLml0ZW1EYXRhVmFsdWUgPSB0aGlzLml0ZW1EYXRhVmFsdWUgJiB+MHg4MCB8IChzID8gMHg4MCA6IDApOyB9XG5cbiAgLy8gZ2V0IGl0ZW1Vc2VEYXRhKCk6IFVpbnQ4QXJyYXkge1xuICAvLyAgIC8vIE5PVEU6IHRoaXMgaXMgaGFja3ksIGl0IHNob3VsZCByZWFsbHkgYmUgbGVzcyB0aGFuIDI0LCBhbmQgdmFyaWFibGUhXG4gIC8vICAgLy8gTW9yZW92ZXIsIHNvbWUgaXRlbXMgaGF2ZSBvdmVybGFwcGluZyBkYXRhLCB3aGljaCBpcyBhd2t3YXJkLlxuICAvLyAgIC8vIFNvIHJlYWxseSB3ZSBuZWVkIHNlcGFyYXRlIEl0ZW1Vc2UgYW5kIEl0ZW1KdW1wIGVudGl0aWVzIGFuZCB0aGVuIGp1c3RcbiAgLy8gICAvLyBwb2ludCB0byB3aGljaCBvbmUgd2Ugd2FudCBoZXJlLlxuICAvLyAgIHJldHVybiB0aGlzLnJvbS5wcmcuc3ViYXJyYXkodGhpcy5pdGVtVXNlRGF0YUJhc2UsIDI0KTtcbiAgLy8gfVxuXG4gIGFzc2VtYmxlKGE6IEFzc2VtYmxlcikge1xuICAgIGNvbnN0IGlkID0gaGV4KHRoaXMuaWQpO1xuICAgIHRoaXMuaXRlbURhdGFQb2ludGVyLmxvYyhhLCBgSXRlbURhdGFfJHtpZH1gKTtcbiAgICBhLmJ5dGUodGhpcy5pdGVtRGF0YVZhbHVlKTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbVBvaW50ZXIubG9jKGEsIGBJdGVtU2VsZWN0ZWRWYWx1ZV8ke2lkfWApO1xuICAgIGEuYnl0ZSh0aGlzLnNlbGVjdGVkSXRlbVZhbHVlKTtcblxuICAgIGNvbnN0IG1lbnVOYW1lRW5jb2RlZCA9XG4gICAgICAgIE1FTlVfTkFNRV9FTkNPREUucmVkdWNlKChzLCBbZCwgZV0pID0+IHMucmVwbGFjZShkLCBlKSwgdGhpcy5tZW51TmFtZSk7XG4gICAgYS5zZWdtZW50KCQxMCwgJGZlLCAkZmYpOyAvLyBUT0RPKHNkaCk6IGNvbnNvbGlkYXRlIHRoZXNlIGJhY2sgaW50byBqdXN0ICQxMFxuICAgIGEucmVsb2MoYEl0ZW1NZW51TmFtZV8ke2hleCh0aGlzLmlkKX1gKTtcbiAgICBjb25zdCBtZW51TmFtZUFkZHIgPSBhLnBjKCk7XG4gICAgYS5ieXRlKG1lbnVOYW1lRW5jb2RlZCwgMHhmZik7XG5cbiAgICB0aGlzLm1lbnVOYW1lUG9pbnRlci5sb2MoYSwgYEl0ZW1NZW51TmFtZV8ke2lkfWApO1xuICAgIGEud29yZChtZW51TmFtZUFkZHIpO1xuXG4gICAgaWYgKHRoaXMuaXRlbVVzZUp1bXApIHtcbiAgICAgIHRoaXMuaXRlbVVzZUp1bXBQb2ludGVyLmxvYyhhLCBgSXRlbVVzZUp1bXBfJHtpZH1fUHRyYCk7XG4gICAgICBhLndvcmQodGhpcy5pdGVtVXNlSnVtcC5vcmcpO1xuXG4gICAgICBjb25zdCBpdGVtVXNlRGF0YTogbnVtYmVyW10gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgdXNlIG9mIHRoaXMuaXRlbVVzZURhdGEpIHtcbiAgICAgICAgaXRlbVVzZURhdGEucHVzaCguLi51c2UuYnl0ZXMoKSk7XG4gICAgICB9XG5cbiAgICAgIGEuc2VnbWVudCgkMGUubmFtZSwgJDBmLm5hbWUpO1xuICAgICAgYS5yZWxvYyhgSXRlbVVzZURhdGFfJHtpZH1gKTtcbiAgICAgIGNvbnN0IHVzZVB0ciA9IGEucGMoKTtcbiAgICAgIGEuYnl0ZSguLi5pdGVtVXNlRGF0YSk7XG4gICAgICB0aGlzLml0ZW1Vc2VEYXRhUG9pbnRlci5sb2MoYSwgYEl0ZW1Vc2VEYXRhXyR7aWR9X1B0cmApXG4gICAgICBhLndvcmQodXNlUHRyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUFkZHIpIHtcbiAgICAgIHRoaXMudmFsdWVBZGRyLmxvYyhhLCBgSXRlbVZhbHVlXyR7aWR9YCk7XG4gICAgICBhLmJ5dGUodGhpcy52YWx1ZSEpO1xuICAgIH1cblxuICAgIC8vIElmIEFyeWxsaXMgd2FudHMgdGhpcyB0aGVuIHNldCBpdCBhcyB0aGUgaXRlbSB0aGF0IHJlcXVpcmVzIGNoYW5nZVxuICAgIGlmICh0aGlzLml0ZW1Vc2VEYXRhLnNvbWUodSA9PiB1LnRyYWRlTnBjKCkgPT09IHRoaXMucm9tLm5wY3MuQXJ5bGxpcy5pZCkpIHtcbiAgICAgIGEuc2VnbWVudCgnZmUnKTtcbiAgICAgIGEub3JnKDB4ZDRiNSk7IC8vIGhhcmQtY29kZWQgY2hlY2sgaW4gb3RoZXJ3aXNlLXVudG91Y2hlZCBhc3NlbWJseSBjb2RlXG4gICAgICBhLmJ5dGUodGhpcy5pZCAtIDB4MWMpOyAvLyBlcXVpcHBlZCBpdGVtIGlkXG4gICAgfVxuXG4gICAgLy8gd3JpdGVyLndyaXRlKFsuLi5zdHJpbmdUb0J5dGVzKHRoaXMubWVzc2FnZU5hbWUpLCAwXSxcbiAgICAvLyAweDI4MDAwLCAweDI5ZmZmLCBgSXRlbU1lc3NhZ2VOYW1lICR7aGV4KHRoaXMuaWQpfWApLFxuICAgIC8vIHdyaXRlTGl0dGxlRW5kaWFuKHdyaXRlci5yb20sIHRoaXMubWVzc2FnZU5hbWVQb2ludGVyLCBtZXNzYWdlQWRkcmVzcyAtIDB4MjAwMDApO1xuICB9XG5cbiAgaXNNYWdpYygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pZCA+PSAweDQxICYmIHRoaXMuaWQgPD0gMHg0ODtcbiAgfVxufVxuXG4vLyBUcmFkZS1pbiBzbG90cyBjb3VsZCBiZSBjdXN0b21pemVkIHF1aXRlIGEgYml0OlxuLy8gIC0gTlBDXG4vLyAgLSBpdGVtIHJlcXVpcmVkXG4vLyAgLSBpdGVtIGdpdmVuXG4vLyAgLSBmbGFncyBnaXZlblxuLy8gIC0gbG9jYXRpb25cbi8vIGV0Yy4uLlxuLy8gY29uc3QgVFJBREVfSU5TID0gbmV3IE1hcChbXG4vLyAgIFsweDFkLCAxXSwgLy8gbWVkaWNhbCBoZXJiXG4vLyAgIFsweDI1LCAxXSwgLy8gc3RhdHVlIG9mIG9ueXhcbi8vICAgWzB4MjgsIDRdLCAvLyBmbHV0ZSBvZiBsaW1lIChmaXJzdCB0d28gdW51c2VkKVxuLy8gICBbMHgzMSwgMl0sIC8vIGFsYXJtIGZsdXRlXG4vLyAgIFsweDM1LCAxXSwgLy8gZm9nIGxhbXBcbi8vICAgWzB4M2IsIDFdLCAvLyBsb3ZlIHBlbmRhbnRcbi8vICAgWzB4M2MsIDFdLCAvLyBraXJpc2EgcGxhbnRcbi8vICAgWzB4M2QsIDFdLCAvLyBpdm9yeSBzdGF0dWVcbiAgLy8gVE9ETyAtIGNvbnNpZGVyIG1vdmluZyBzbGVlcGluZyBwZW9wbGU/XG4gIC8vICAgICAgLS0+IHdvdWxkIHdhbnQgdG8gcHV0IHNvbWV0aGluZyBpbiB0aGVpciBwbGFjZT9cbiAgLy8gICAgICAgICAgLSBtYXliZSBldmVuIGEgYm9zcyBpbiBjbG9zZSBxdWFydGVycyBhcmVhP1xuICAvLyBUT0RPIC0gbWF5YmUgTlBDIHNob3VsZCBoYXZlIGFuIFwiaXRlbSB3YW50ZWRcIiBwcm9wZXJ0eT9cbi8vIF0pO1xuXG4vLyBJdGVtVXNlIGRhdGEgYXJlIGluIHN0YW56YXMgd2l0aCAwLTIgYnl0ZSBoZWFkZXJzLlxuLy8gVGhlIHN0cnVjdHVyZSBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBJdGVtVXNlSnVtcCxcbi8vIHdoaWNoIGV4cGVjdHMgdGhlIHZhcmlvdXMgaGVhZGVycy5cblxudHlwZSBJdGVtVXNlS2luZCA9ICdleHBlY3QnIHwgJ3NjcmVlbicgfCAnZmxhZycgfCAnbG9jYXRpb24nIHwgJ2VtcHR5JztcblxuZXhwb3J0IGNsYXNzIEl0ZW1Vc2Uge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMga2luZDogSXRlbVVzZUtpbmQsXG4gICAgICAgICAgICAgIHB1YmxpYyB3YW50OiBudW1iZXIsIC8vIG5vdGU6IGludGVycHJldGF0aW9uIGRlcGVuZHMgb24ga2luZC5cbiAgICAgICAgICAgICAgcHVibGljIG1lc3NhZ2U6IE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgcHVibGljIGZsYWdzOiBudW1iZXJbXSkge31cblxuICBzdGF0aWMgZnJvbShraW5kOiBJdGVtVXNlS2luZCwgZGF0YTogRGF0YTxudW1iZXI+LCBhZGRyOiBBZGRyZXNzKSB7XG4gICAgbGV0IHtvZmZzZXR9ID0gYWRkcjtcbiAgICBsZXQgd2FudCA9IDA7XG4gICAgaWYgKGtpbmQgPT09ICdleHBlY3QnIHx8IGtpbmQgPT09ICdzY3JlZW4nKSB7XG4gICAgICB3YW50ID0gZGF0YVtvZmZzZXQgKyAxXSA8PCA4IHwgZGF0YVtvZmZzZXRdO1xuICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgfSBlbHNlIGlmIChraW5kID09PSAnZmxhZycpIHtcbiAgICAgIGNvbnN0IGZsYWdzID0gSVRFTV9DT05ESVRJT05fRkxBR1MucmVhZChkYXRhLCBvZmZzZXQpO1xuICAgICAgaWYgKCFmbGFncy5sZW5ndGgpIGZsYWdzLnB1c2gofjApO1xuICAgICAgaWYgKGZsYWdzLmxlbmd0aCA+IDEpIHRocm93IG5ldyBFcnJvcihgRmxhZyBsaXN0IHRvbyBsb25nOiAke2ZsYWdzfWApO1xuICAgICAgd2FudCA9IGZsYWdzWzBdO1xuICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgfSBlbHNlIGlmIChraW5kID09PSAnbG9jYXRpb24nKSB7XG4gICAgICB3YW50ID0gZGF0YVtvZmZzZXQrK107XG4gICAgfSBlbHNlIGlmIChraW5kICE9PSAnZW1wdHknKSB7XG4gICAgICBhc3NlcnROZXZlcihraW5kKTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IE1lc3NhZ2VJZC5mcm9tKGRhdGEsIG9mZnNldCk7XG4gICAgY29uc3QgZmxhZ3MgPSBJVEVNX1VTRV9GTEFHUy5yZWFkKGRhdGEsIG9mZnNldCArIDIpO1xuICAgIHJldHVybiBuZXcgSXRlbVVzZShraW5kLCB3YW50LCBtZXNzYWdlLCBmbGFncyk7XG4gIH1cblxuICBieXRlcygpOiBudW1iZXJbXSB7XG4gICAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgICBpZiAodGhpcy5raW5kID09PSAnZXhwZWN0JyB8fCB0aGlzLmtpbmQgPT09ICdzY3JlZW4nKSB7XG4gICAgICBieXRlcy5wdXNoKHRoaXMud2FudCAmIDB4ZmYsICh0aGlzLndhbnQgPj4+IDgpICYgMHhmZik7XG4gICAgfSBlbHNlIGlmICh0aGlzLmtpbmQgPT09ICdmbGFnJykge1xuICAgICAgY29uc3QgZmxhZ0J5dGVzID0gSVRFTV9DT05ESVRJT05fRkxBR1MuYnl0ZXMoW3RoaXMud2FudF0pO1xuICAgICAgaWYgKGZsYWdCeXRlcy5sZW5ndGggIT09IDIpIHRocm93IG5ldyBFcnJvcihgYmFkIGRhdGE6ICR7ZmxhZ0J5dGVzfWApO1xuICAgICAgYnl0ZXMucHVzaCguLi5mbGFnQnl0ZXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5raW5kID09PSAnbG9jYXRpb24nKSB7XG4gICAgICBieXRlcy5wdXNoKHRoaXMud2FudCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmtpbmQgIT09ICdlbXB0eScpIHtcbiAgICAgIGFzc2VydE5ldmVyKHRoaXMua2luZCk7XG4gICAgfSBcbiAgICBieXRlcy5wdXNoKC4uLnRoaXMubWVzc2FnZS5kYXRhKTtcbiAgICBieXRlcy5wdXNoKC4uLklURU1fVVNFX0ZMQUdTLmJ5dGVzKHRoaXMuZmxhZ3MpKTtcbiAgICByZXR1cm4gYnl0ZXM7XG4gIH1cblxuICAvLyBSZXR1cm4gdGhlIE5QQyBpZCBmb3IgYW4gZXhwZWN0IE5QQyB1c2UsIG90aGVyd2lzZSBudWxsLlxuICB0cmFkZU5wYygpOiBudW1iZXJ8bnVsbCB7XG4gICAgaWYgKHRoaXMua2luZCAhPT0gJ2V4cGVjdCcpIHJldHVybiBudWxsO1xuICAgIGlmICgodGhpcy53YW50ID4+PiA4KSAhPT0gMSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHRoaXMud2FudCAmIDB4ZmY7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5raW5kID09PSAnZW1wdHknID8gMCA6IHRoaXMua2luZCA9PT0gJ2xvY2F0aW9uJyA/IDEgOiAyO1xuICAgIHJldHVybiAyICogKDEgKyBNYXRoLm1heCgxLCB0aGlzLmZsYWdzLmxlbmd0aCkpICsgaGVhZGVyO1xuICB9XG59XG5cbmNsYXNzIFNoaWVsZCBleHRlbmRzIEl0ZW0ge1xuICBnZXQgZGVmZW5zZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLnNoaWVsZERlZmVuc2VbdGhpcy5pZCAtIDB4MGNdO1xuICB9XG4gIHNldCBkZWZlbnNlKGRlZjogbnVtYmVyKSB7XG4gICAgdGhpcy5pdGVtcy5zaGllbGREZWZlbnNlW3RoaXMuaWQgLSAweDBjXSA9IGRlZjtcbiAgfVxufVxuXG5jbGFzcyBBcm1vciBleHRlbmRzIEl0ZW0ge1xuICBnZXQgZGVmZW5zZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmFybW9yRGVmZW5zZVt0aGlzLmlkIC0gMHgxNF07XG4gIH1cbiAgc2V0IGRlZmVuc2UoZGVmOiBudW1iZXIpIHtcbiAgICB0aGlzLml0ZW1zLmFybW9yRGVmZW5zZVt0aGlzLmlkIC0gMHgxNF0gPSBkZWY7XG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgSXRlbXMgZXh0ZW5kcyBFbnRpdHlBcnJheTxJdGVtPiB7XG4gIC8vIE5PVEU6IHRoaXMgbXVzdCBiZSBpbml0aWFsaXplZCBmaXJzdC5cbiAgcmVhZG9ubHkgaXRlbVVzZUp1bXBzID0gREVGQVVMVF9JVEVNX1VTRV9KVU1QUztcblxuICBhcm1vckRlZmVuc2U6IG51bWJlcltdO1xuICBzaGllbGREZWZlbnNlOiBudW1iZXJbXTtcblxuICAvLyBTd29yZHNcbiAgcmVhZG9ubHkgU3dvcmRPZldpbmQgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MDApO1xuICByZWFkb25seSBTd29yZE9mRmlyZSAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgwMSk7XG4gIHJlYWRvbmx5IFN3b3JkT2ZXYXRlciAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDAyKTtcbiAgcmVhZG9ubHkgU3dvcmRPZlRodW5kZXIgICA9IG5ldyBJdGVtKHRoaXMsIDB4MDMpO1xuICByZWFkb25seSBDcnlzdGFsaXMgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgwNCk7XG4gIC8vIFBvd2Vyc1xuICByZWFkb25seSBCYWxsT2ZXaW5kICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgwNSk7XG4gIHJlYWRvbmx5IFRvcm5hZG9CcmFjZWxldCAgPSBuZXcgSXRlbSh0aGlzLCAweDA2KTtcbiAgcmVhZG9ubHkgQmFsbE9mRmlyZSAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MDcpO1xuICByZWFkb25seSBGbGFtZUJyYWNlbGV0ICAgID0gbmV3IEl0ZW0odGhpcywgMHgwOCk7XG4gIHJlYWRvbmx5IEJhbGxPZldhdGVyICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDA5KTtcbiAgcmVhZG9ubHkgQmxpenphcmRCcmFjZWxldCA9IG5ldyBJdGVtKHRoaXMsIDB4MGEpO1xuICByZWFkb25seSBCYWxsT2ZUaHVuZGVyICAgID0gbmV3IEl0ZW0odGhpcywgMHgwYik7XG4gIHJlYWRvbmx5IFN0b3JtQnJhY2VsZXQgICAgPSBuZXcgSXRlbSh0aGlzLCAweDBjKTtcbiAgLy8gU2hpZWxkc1xuICByZWFkb25seSBDYXJhcGFjZVNoaWVsZCAgID0gbmV3IFNoaWVsZCh0aGlzLCAweDBkKTtcbiAgcmVhZG9ubHkgQnJvbnplU2hpZWxkICAgICA9IG5ldyBTaGllbGQodGhpcywgMHgwZSk7XG4gIHJlYWRvbmx5IFBsYXRpbnVtU2hpZWxkICAgPSBuZXcgU2hpZWxkKHRoaXMsIDB4MGYpO1xuICByZWFkb25seSBNaXJyb3JlZFNoaWVsZCAgID0gbmV3IFNoaWVsZCh0aGlzLCAweDEwKTtcbiAgcmVhZG9ubHkgQ2VyYW1pY1NoaWVsZCAgICA9IG5ldyBTaGllbGQodGhpcywgMHgxMSk7XG4gIHJlYWRvbmx5IFNhY3JlZFNoaWVsZCAgICAgPSBuZXcgU2hpZWxkKHRoaXMsIDB4MTIpO1xuICByZWFkb25seSBCYXR0bGVTaGllbGQgICAgID0gbmV3IFNoaWVsZCh0aGlzLCAweDEzKTtcbiAgcmVhZG9ubHkgUHN5Y2hvU2hpZWxkICAgICA9IG5ldyBTaGllbGQodGhpcywgMHgxNCk7XG4gIC8vIEFybW9yXG4gIHJlYWRvbmx5IFRhbm5lZEhpZGUgICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxNSk7XG4gIHJlYWRvbmx5IExlYXRoZXJBcm1vciAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxNik7XG4gIHJlYWRvbmx5IEJyb256ZUFybW9yICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxNyk7XG4gIHJlYWRvbmx5IFBsYXRpbnVtQXJtb3IgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxOCk7XG4gIHJlYWRvbmx5IFNvbGRpZXJTdWl0ICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxOSk7XG4gIHJlYWRvbmx5IENlcmFtaWNTdWl0ICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxYSk7XG4gIHJlYWRvbmx5IEJhdHRsZUFybW9yICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxYik7XG4gIHJlYWRvbmx5IFBzeWNob0FybW9yICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxYyk7XG4gIC8vIENvbnN1bWFibGVzXG4gIHJlYWRvbmx5IE1lZGljYWxIZXJiICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDFkLCB7dXNlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlQWRkcjogMHg4NGVhfSk7XG4gIHJlYWRvbmx5IEFudGlkb3RlICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDFlLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEx5c2lzUGxhbnQgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDFmLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZydWl0T2ZMaW1lICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIwLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZydWl0T2ZQb3dlciAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIxLCB7dXNlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlQWRkcjogMHg4NTBjfSk7XG4gIHJlYWRvbmx5IE1hZ2ljUmluZyAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIyLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZydWl0T2ZSZXB1biAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIzLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IFdhcnBCb290cyAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDI0LCB7dXNlOiB0cnVlfSk7XG4gIC8vIFF1ZXN0IGl0ZW1zICgxKVxuICByZWFkb25seSBTdGF0dWVPZk9ueXggICAgID0gbmV3IEl0ZW0odGhpcywgMHgyNSwge3VzZTogdHJ1ZSwgdHJhZGVzOiBbMF19KTtcbiAgcmVhZG9ubHkgT3BlbFN0YXR1ZSAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MjYsIHt1c2U6IHRydWV9KTtcbiAgcmVhZG9ubHkgSW5zZWN0Rmx1dGUgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MjcsIHt1c2U6IHRydWV9KTtcbiAgLy8gVE9ETyAtIGNvbnNpZGVyIG9ubHkgdXNpbmcgMiwgMz8gIDAgYW5kIDEgYXJlIHVudXNlZC4uLlxuICByZWFkb25seSBGbHV0ZU9mTGltZSAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgyOCwge3VzZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IFswLCAxLCAyLCAzXX0pO1xuICAvLyBXb3JuIGl0ZW1zXG4gIHJlYWRvbmx5IEdhc01hc2sgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDI5KTtcbiAgcmVhZG9ubHkgUG93ZXJSaW5nICAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MmEpO1xuICByZWFkb25seSBXYXJyaW9yUmluZyAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgyYik7XG4gIHJlYWRvbmx5IElyb25OZWNrbGFjZSAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDJjKTtcbiAgcmVhZG9ubHkgRGVvc1BlbmRhbnQgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MmQpO1xuICByZWFkb25seSBSYWJiaXRCb290cyAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgyZSk7XG4gIHJlYWRvbmx5IExlYXRoZXJCb290cyAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDJmKTtcbiAgcmVhZG9ubHkgU2hpZWxkUmluZyAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MzApO1xuICAvLyBRdWVzdCBpdGVtcyAoMilcbiAgcmVhZG9ubHkgQWxhcm1GbHV0ZSAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MzEsIHt1c2U6IHRydWUsIHRyYWRlczogWzAsIDFdfSk7XG4gIHJlYWRvbmx5IFdpbmRtaWxsS2V5ICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDMyLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEtleVRvUHJpc29uICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDMzLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEtleVRvU3R5eCAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDM0LCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZvZ0xhbXAgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDM1LCB7dXNlOiB0cnVlLCB0cmFkZXM6IFswXX0pO1xuICByZWFkb25seSBTaGVsbEZsdXRlICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzNiwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBFeWVHbGFzc2VzICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzNywge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBCcm9rZW5TdGF0dWUgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzOCwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBHbG93aW5nTGFtcCAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzOSwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBTdGF0dWVPZkdvbGQgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzYSwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBMb3ZlUGVuZGFudCAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzYiwge3VzZTogdHJ1ZSwgdHJhZGVzOiBbMF19KTtcbiAgcmVhZG9ubHkgS2lyaXNhUGxhbnQgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4M2MsIHt1c2U6IHRydWUsIHRyYWRlczogWzBdfSk7XG4gIHJlYWRvbmx5IEl2b3J5U3RhdHVlICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDNkLCB7dXNlOiB0cnVlLCB0cmFkZXM6IFswXX0pO1xuICByZWFkb25seSBCb3dPZk1vb24gICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzZSwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBCb3dPZlN1biAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzZiwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBCb3dPZlRydXRoICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0MCwge3VzZTogdHJ1ZX0pO1xuICAvLyBNYWdpY1xuICByZWFkb25seSBSZWZyZXNoICAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0MSk7XG4gIHJlYWRvbmx5IFBhcmFseXNpcyAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDQyKTtcbiAgcmVhZG9ubHkgVGVsZXBhdGh5ICAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4NDMpO1xuICByZWFkb25seSBUZWxlcG9ydCAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0NCk7XG4gIHJlYWRvbmx5IFJlY292ZXIgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDQ1KTtcbiAgcmVhZG9ubHkgQmFycmllciAgICAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4NDYpO1xuICByZWFkb25seSBDaGFuZ2UgICAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0Nyk7XG4gIHJlYWRvbmx5IEZsaWdodCAgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDQ4KTtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSByb206IFJvbSkge1xuICAgIHN1cGVyKDB4NDkpO1xuICAgIHRoaXMuYXJtb3JEZWZlbnNlID0gdHVwbGUocm9tLnByZywgQVJNT1JfREVGRU5TRV9UQUJMRS5vZmZzZXQsIDkpO1xuICAgIHRoaXMuc2hpZWxkRGVmZW5zZSA9IHR1cGxlKHJvbS5wcmcsIFNISUVMRF9ERUZFTlNFX1RBQkxFLm9mZnNldCwgOSk7XG4gIH1cblxuICB3cml0ZSgpOiBNb2R1bGVbXSB7XG4gICAgY29uc3QgYSA9IHRoaXMucm9tLmFzc2VtYmxlcigpO1xuICAgIEFSTU9SX0RFRkVOU0VfVEFCTEUubG9jKGEpO1xuICAgIGEuYnl0ZSguLi50aGlzLmFybW9yRGVmZW5zZSk7XG4gICAgU0hJRUxEX0RFRkVOU0VfVEFCTEUubG9jKGEpO1xuICAgIGEuYnl0ZSguLi50aGlzLnNoaWVsZERlZmVuc2UpO1xuXG4gICAgLy8gVW5pcXVlIGl0ZW1zIHRhYmxlIGZvciBkaWZmaWN1bHR5XG4gICAgY29uc3QgdW5pcXVlVGFibGUgPSBuZXcgQXJyYXkoMTApLmZpbGwoMCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMpIHtcbiAgICAgIGl0ZW0uYXNzZW1ibGUoYSk7XG4gICAgICBpZiAoaXRlbS51bmlxdWUpIHVuaXF1ZVRhYmxlW2l0ZW0uaWQgPj4+IDNdIHw9ICgxIDw8IChpdGVtLmlkICYgNykpO1xuICAgIH1cbiAgICByZWxvY0V4cG9ydExhYmVsKGEsIFskMGUsICQwZl0sICdLZXlJdGVtRGF0YScpO1xuICAgIGEuYnl0ZSguLi51bmlxdWVUYWJsZSk7XG4gICAgcmV0dXJuIFthLm1vZHVsZSgpXTtcbiAgfVxufVxuXG4vLyBLZXkgaXMgLm9yZyBhZGRyZXNzIGluIHNlZ21lbnQgMGUgKGkuZS4gb2Zmc2V0IDFjeHh4KVxuY29uc3QgREVGQVVMVF9JVEVNX1VTRV9KVU1QUzoge1thZGRyOiBudW1iZXJdOiBJdGVtVXNlS2luZFtdfSA9IHtcbiAgLy8gM2IgbG92ZSBwZW5kYW50XG4gIDB4ODQzOTogWydleHBlY3QnXSxcbiAgLy8gNDAgYm93IG9mIHRydXRoXG4gIDB4ODQ0MjogWydzY3JlZW4nXSxcbiAgLy8gMjYgb3BlbCBzdGF0dWVcbiAgMHg4NDUwOiBbJ2VtcHR5J10sXG4gIC8vIDNlIGJvdyBvZiBtb29uLCAzZiBib3cgb2Ygc3VuXG4gIDB4ODQ1MTogWydzY3JlZW4nXSxcbiAgLy8gMzIgd2luZG1pbGwga2V5LCAzNyBleWUgZ2xhc3Nlc1xuICAweDg0NWY6IFsnbG9jYXRpb24nXSxcbiAgLy8gMzMgcHJpc29uIGtleSwgMzQgc3R4eSwgMzUgZm9nIGxhbXAsIDNjIGtpcmlzYSBwbGFudCwgM2QgaXZvcnkgc3RhdHVlXG4gIDB4ODQ5MTogWydleHBlY3QnXSxcbiAgLy8gMzEgYWxhcm0gZmx1dGVcbiAgMHg4NGE5OiBbJ2V4cGVjdCcsICdleHBlY3QnXSxcbiAgLy8gMjcgaW5zZWN0IGZsdXRlXG4gIDB4ODRiMzogWydsb2NhdGlvbiddLFxuICAvLyAzYSBzdGF0dWUgb2YgZ29sZFxuICAweDg0ZDA6IFsnZXhwZWN0J10sXG4gIC8vIGludmFsaWRcbiAgMHg4NGRiOiBbXSxcbiAgLy8gMWQgbWVkaWNhbCBoZXJiXG4gIDB4ODRlMDogWydleHBlY3QnLCAnZW1wdHknXSxcbiAgLy8gMjEgZnJ1aXQgb2YgcG93ZXJcbiAgMHg4NTA3OiBbJ2VtcHR5J10sXG4gIC8vIDIyIG1hZ2ljIHJpbmdcbiAgMHg4NTFkOiBbJ2VtcHR5J10sXG4gIC8vIDFlIGFudGlkb3RlXG4gIDB4ODUyNDogWydlbXB0eSddLFxuICAvLyAxZiBseXNpcyBwbGFudFxuICAweDg1MmY6IFsnZW1wdHknXSxcbiAgLy8gMjAgZnJ1aXQgb2YgbGltZVxuICAweDg1M2E6IFsnZW1wdHknXSxcbiAgLy8gMjMgZnJ1aXQgb2YgcmVwdW5cbiAgMHg4NTRhOiBbJ2VtcHR5J10sXG4gIC8vIDI0IHdhcnAgYm9vdHMgLT4gcnRzXG4gIDB4ODU2NDogWydlbXB0eSddLFxuICAvLyAyNSBzdGF0dWUgb2Ygb255eFxuICAweDg1NjU6IFsnZXhwZWN0J10sXG4gIC8vIDM2IHNoZWxsIGZsdXRlXG4gIDB4ODU2YjogWydmbGFnJ10sXG4gIC8vIDM5IGdsb3dpbmcgbGFtcFxuICAweDg1ODU6IFsnZW1wdHknXSxcbiAgLy8gMjggZmx1dGUgb2YgbGltZVxuICAweDg1OWU6IFsnZXhwZWN0JywgJ2V4cGVjdCcsICdleHBlY3QnLCAnZXhwZWN0J10sXG59O1xuIl19