if (!Array.prototype.flatMap) {
    Object.defineProperties(Array.prototype, {
        flatMap: {
            value(f) {
                const out = [];
                let i = 0;
                for (const x of this) {
                    let y = f(x, i++);
                    if (typeof y[Symbol.iterator] !== 'function')
                        y = [y];
                    y = [...y];
                    if (y.length)
                        out.push(...y);
                }
                return out;
            },
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9seWZpbGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvcG9seWZpbGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsSUFBSSxDQUFFLEtBQUssQ0FBQyxTQUFpQixDQUFDLE9BQU8sRUFBRTtJQUNyQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtRQUN2QyxPQUFPLEVBQUU7WUFDUCxLQUFLLENBQXVCLENBQTJCO2dCQUNyRCxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNWLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxFQUFFO29CQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ2xCLElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLFVBQVU7d0JBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFRLENBQUM7b0JBQzdELENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ1gsSUFBSSxDQUFDLENBQUMsTUFBTTt3QkFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7aUJBQzlCO2dCQUNELE9BQU8sR0FBRyxDQUFDO1lBQ2IsQ0FBQztTQUNGO0tBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQb2x5ZmlsbCBBcnJheS5wcm90b3lwZS5mbGF0TWFwXG5cbmlmICghKEFycmF5LnByb3RvdHlwZSBhcyBhbnkpLmZsYXRNYXApIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXJyYXkucHJvdG90eXBlLCB7XG4gICAgZmxhdE1hcDoge1xuICAgICAgdmFsdWU8VCwgVT4odGhpczogQXJyYXk8VD4sIGY6ICh4OiBULCBpOiBudW1iZXIpID0+IFVbXSk6IFVbXSB7XG4gICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgeCBvZiB0aGlzKSB7XG4gICAgICAgICAgbGV0IHkgPSBmKHgsIGkrKyk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB5W1N5bWJvbC5pdGVyYXRvcl0gIT09ICdmdW5jdGlvbicpIHkgPSBbeV0gYXMgYW55O1xuICAgICAgICAgIHkgPSBbLi4ueV07XG4gICAgICAgICAgaWYgKHkubGVuZ3RoKSBvdXQucHVzaCguLi55KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbn1cbiJdfQ==