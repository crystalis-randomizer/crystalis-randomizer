class NssFile {
    constructor(filename, chrdata, palette, rendered) {
        this.filename = filename;
        this.chrdata = Array.from(new Uint8Array(chrdata));
        this.palette = palette;
        this.rendered = Array.from(new Uint8Array(rendered.data));
    }
}
export async function generateThumbnailImage(nss) {
    const offscreenCanvas = document.createElement('canvas');
    offscreenCanvas.width = 112;
    offscreenCanvas.height = 100;
    const ctx = offscreenCanvas.getContext('2d');
    ctx.imageSmoothingEnabled = false;
    ctx.fillStyle = "#155fd9";
    ctx.fillRect(0, 0, offscreenCanvas.width, offscreenCanvas.height);
    const imgData = new ImageData(new Uint8ClampedArray(nss.rendered), 128, 128);
    const imgBitmap = await createImageBitmap(imgData, { resizeQuality: "pixelated" });
    ctx.drawImage(imgBitmap, 0, 0, 16, 24, 24, 2, 16 * 4, 24 * 4);
    return offscreenCanvas.toDataURL('image/png');
}
async function createImageFromCHR(buffer, palette) {
    const tileCount = buffer.byteLength / 16;
    const pixelsPerTile = 8;
    const paletteIdx = 0;
    const offscreenCanvas = document.createElement('canvas');
    offscreenCanvas.width = 128;
    offscreenCanvas.height = 128;
    const ctx = offscreenCanvas.getContext('2d');
    const imageData = ctx.createImageData(128, 128);
    const view = new Uint8ClampedArray(buffer);
    for (let n = 0; n < tileCount; ++n) {
        const offset = n * 16;
        const x = (n % 16) * 8;
        const y = Math.floor(n / 16) * 8;
        for (let j = 0; j < pixelsPerTile; ++j) {
            const plane0 = view[offset + j];
            const plane1 = view[offset + j + 8];
            for (let i = 0; i < pixelsPerTile; ++i) {
                const pixelbit = 7 - i;
                const bit0 = (plane0 >> pixelbit) & 1;
                const bit1 = ((plane1 >> pixelbit) & 1) << 1;
                const color = (bit0 | bit1) + (paletteIdx * 4);
                const appliedColor = basePaletteColors[palette[color]];
                const k = (x + i) * 4 + (y + j) * 4 * 128;
                imageData.data[0 + k] = appliedColor[0];
                imageData.data[1 + k] = appliedColor[1];
                imageData.data[2 + k] = appliedColor[2];
                imageData.data[3 + k] = (color == 0) ? 0 : 255;
            }
        }
    }
    return imageData;
}
export class Sprite {
    constructor(name, converter, nssdata, description) {
        this.name = name;
        this.converter = converter;
        this.nssdata = nssdata;
        this.description = description;
    }
    static async init(name, converter, nssdata, description) {
        const nss = await nssdata;
        return new Sprite(name, converter, nss, description);
    }
    static applyPatch(s, rom, expandedPRG) {
        if (!Sprite.isCustom(s)) {
            return;
        }
        const expandedOffset = expandedPRG ? 0x40000 : 0;
        for (let [src, dsts] of CustomTilesetMapping.getChr(s.converter)) {
            for (let dst of dsts) {
                for (let i = 0; i < 0x10; ++i) {
                    rom[dst + i + expandedOffset] = s.nssdata.chrdata[src * 0x10 + i];
                }
            }
        }
        for (let [src, dsts] of CustomTilesetMapping.getPalette(s.converter)) {
            for (let dst of dsts) {
                switch (src) {
                    case "color0":
                        rom[dst] = s.nssdata.palette[0];
                        break;
                    case "color1":
                        rom[dst] = s.nssdata.palette[1];
                        break;
                    case "color2":
                        rom[dst] = s.nssdata.palette[2];
                        break;
                    case "color3":
                        rom[dst] = s.nssdata.palette[3];
                        break;
                    case "metasprite":
                        rom[dst + expandedOffset] = 0x00;
                        break;
                }
            }
        }
    }
}
Sprite.isCustom = (s) => { return s.name != "Simea"; };
export class CharacterSet {
    constructor() {
        this.simeaReplacements = new Map();
        this.mapping = new Map();
        this.simeaReplacements.set("Simea", Sprite.init("Simea", "simea", loadNssFileFromServer("images/spritesheets/Simea.nss"), "The original main character of Crystalis"));
        this.simeaReplacements.set("Mesia", Sprite.init("Mesia", "simea", loadNssFileFromServer("images/spritesheets/Mesia.nss"), "Secondary protagonist Mesia takes the spotlight! Artwork by jroweboy"));
        this.mapping.set("simea", this.simeaReplacements);
    }
    static get(which) {
        if (!this.instance)
            this.instance = new CharacterSet();
        return this.instance.mapping.get(which);
    }
}
function toChrAddr(chr_page, nametable, tile_number) {
    const baseAddr = 0x40000 + 0x10;
    return baseAddr + chr_page * 0x2000 + nametable * 0x1000 + tile_number * 0x10;
}
export class CustomTilesetMapping {
    constructor() {
        this.chrMapping = new Map();
        this.paletteMapping = new Map();
        this.simeaChrMapping = this.generateSimeaMapping();
        this.simeaPaletteMapping = this.generateSimeaPalette();
        this.chrMapping.set("simea", this.simeaChrMapping);
        this.paletteMapping.set("simea", this.simeaPaletteMapping);
    }
    static getChr(which) {
        if (!this.instance)
            this.instance = new CustomTilesetMapping();
        return this.instance.chrMapping.get(which);
    }
    static getPalette(which) {
        if (!this.instance)
            this.instance = new CustomTilesetMapping();
        return this.instance.paletteMapping.get(which);
    }
    generateSimeaPalette() {
        const mapping = new Map();
        const customCharPaletteAddr = 0x6cf0 + 0x10;
        mapping.set("color0", [customCharPaletteAddr + 0]);
        mapping.set("color1", [customCharPaletteAddr + 1]);
        mapping.set("color2", [customCharPaletteAddr + 2]);
        mapping.set("color3", [customCharPaletteAddr + 3]);
        mapping.set("metasprite", [0x3c054 + 0x10]);
        return mapping;
    }
    generateSimeaMapping() {
        const ARMOR_TILESET_OFFSET = 0x08;
        const CHR_PAGE_OFFSET = 0x400;
        const mapping = new Map();
        mapping.set(0x00, [toChrAddr(8, 0, 0x1a)]);
        mapping.set(0x01, [toChrAddr(8, 0, 0x1b)]);
        mapping.set(0x10, [toChrAddr(8, 0, 0x00)]);
        mapping.set(0x11, [toChrAddr(8, 0, 0x01)]);
        mapping.set(0x20, [toChrAddr(8, 0, 0x20)]);
        mapping.set(0x21, [toChrAddr(8, 0, 0x21)]);
        mapping.set(0x02, [toChrAddr(8, 0, 0x1c)]);
        mapping.set(0x03, [toChrAddr(8, 0, 0x1d)]);
        mapping.set(0x12, [toChrAddr(8, 0, 0x02)]);
        mapping.set(0x13, [toChrAddr(8, 0, 0x03)]);
        mapping.set(0x14, [toChrAddr(8, 0, 0x04)]);
        mapping.set(0x15, [toChrAddr(8, 0, 0x05)]);
        mapping.set(0x22, [toChrAddr(8, 0, 0x22)]);
        mapping.set(0x23, [toChrAddr(8, 0, 0x23)]);
        mapping.set(0x24, [toChrAddr(8, 0, 0x24)]);
        mapping.set(0x25, [toChrAddr(8, 0, 0x25)]);
        mapping.set(0x06, [toChrAddr(8, 0, 0x1e)]);
        mapping.set(0x07, [toChrAddr(8, 0, 0x1f)]);
        mapping.set(0x16, [toChrAddr(8, 0, 0x06)]);
        mapping.set(0x17, [toChrAddr(8, 0, 0x07)]);
        mapping.set(0x26, [toChrAddr(8, 0, 0x26)]);
        mapping.set(0x27, [toChrAddr(8, 0, 0x27)]);
        mapping.set(0x40, [toChrAddr(8, 0, 0x14)]);
        mapping.set(0x41, [toChrAddr(8, 0, 0x15)]);
        mapping.set(0x50, [toChrAddr(8, 0, 0x34)]);
        mapping.set(0x51, [toChrAddr(8, 0, 0x35)]);
        mapping.set(0x32, [toChrAddr(8, 0, 0x3c)]);
        mapping.set(0x33, [toChrAddr(8, 0, 0x3d)]);
        mapping.set(0x42, [toChrAddr(8, 0, 0x18)]);
        mapping.set(0x43, [toChrAddr(8, 0, 0x19)]);
        mapping.set(0x52, [toChrAddr(8, 0, 0x38)]);
        mapping.set(0x53, [toChrAddr(8, 0, 0x27)]);
        mapping.set(0x44, [toChrAddr(8, 0, 0x16)]);
        mapping.set(0x45, [toChrAddr(8, 0, 0x17)]);
        mapping.set(0x54, [toChrAddr(8, 0, 0x36)]);
        mapping.set(0x70, [toChrAddr(8, 0, 0x0e)]);
        mapping.set(0x71, [toChrAddr(8, 0, 0x0f)]);
        mapping.set(0x80, [toChrAddr(8, 0, 0x2e)]);
        mapping.set(0x81, [toChrAddr(8, 0, 0x2f)]);
        mapping.set(0x72, [toChrAddr(8, 0, 0x12)]);
        mapping.set(0x73, [toChrAddr(8, 0, 0x13)]);
        mapping.set(0x82, [toChrAddr(8, 0, 0x30)]);
        mapping.set(0x83, [toChrAddr(8, 0, 0x33)]);
        mapping.set(0x74, [toChrAddr(8, 0, 0x10)]);
        mapping.set(0x75, [toChrAddr(8, 0, 0x11)]);
        mapping.set(0x85, [toChrAddr(8, 0, 0x31)]);
        mapping.set(0xa0, [toChrAddr(8, 0, 0x08)]);
        mapping.set(0xa1, [toChrAddr(8, 0, 0x09)]);
        mapping.set(0xb0, [toChrAddr(8, 0, 0x28)]);
        mapping.set(0x92, [toChrAddr(8, 0, 0x3a)]);
        mapping.set(0x93, [toChrAddr(8, 0, 0x3b)]);
        mapping.set(0xa2, [toChrAddr(8, 0, 0x0c)]);
        mapping.set(0xa3, [toChrAddr(8, 0, 0x0d)]);
        mapping.set(0xb2, [toChrAddr(8, 0, 0x2c)]);
        mapping.set(0xb3, [toChrAddr(8, 0, 0x2d)]);
        mapping.set(0xa4, [toChrAddr(8, 0, 0x0a)]);
        mapping.set(0xa5, [toChrAddr(8, 0, 0x0b)]);
        mapping.set(0xb5, [toChrAddr(8, 0, 0x2b)]);
        const noarmor_mappings = new Map(mapping);
        for (let [key, value] of noarmor_mappings) {
            const armor_key = key + ARMOR_TILESET_OFFSET;
            const armor_val = value.map((k) => k + CHR_PAGE_OFFSET);
            mapping.set(armor_key, armor_val);
        }
        mapping.set(0xc0, [toChrAddr(11, 1, 0x00)]);
        mapping.set(0xc1, [toChrAddr(11, 1, 0x01)]);
        mapping.set(0xd0, [toChrAddr(11, 1, 0x02)]);
        mapping.set(0xd1, [toChrAddr(11, 1, 0x03)]);
        mapping.set(0xe0, [toChrAddr(11, 1, 0x04)]);
        mapping.set(0xe1, [toChrAddr(11, 1, 0x05)]);
        mapping.set(0xc2, [toChrAddr(11, 1, 0x24)]);
        mapping.set(0xc3, [toChrAddr(11, 1, 0x25)]);
        mapping.set(0xd2, [toChrAddr(11, 1, 0x06)]);
        mapping.set(0xd3, [toChrAddr(11, 1, 0x07)]);
        mapping.set(0xe2, [toChrAddr(11, 1, 0x26)]);
        mapping.set(0xe3, [toChrAddr(11, 1, 0x27)]);
        mapping.set(0xc4, [toChrAddr(11, 1, 0x20)]);
        mapping.set(0xc5, [toChrAddr(11, 1, 0x21)]);
        mapping.set(0xd4, [toChrAddr(11, 1, 0x22)]);
        mapping.set(0xd5, [toChrAddr(11, 1, 0x23)]);
        mapping.set(0xd6, [toChrAddr(11, 1, 0x14)]);
        mapping.set(0xd7, [toChrAddr(11, 1, 0x15)]);
        mapping.set(0xe6, [toChrAddr(11, 1, 0x16)]);
        mapping.set(0xe7, [toChrAddr(11, 1, 0x17)]);
        mapping.set(0x36, [toChrAddr(11, 1, 0x0c)]);
        mapping.set(0x37, [toChrAddr(11, 1, 0x0d)]);
        mapping.set(0x46, [toChrAddr(11, 1, 0x32)]);
        mapping.set(0x47, [toChrAddr(11, 1, 0x33)]);
        mapping.set(0x56, [toChrAddr(11, 1, 0x2e)]);
        mapping.set(0x57, [toChrAddr(11, 1, 0x2f)]);
        mapping.set(0x66, [toChrAddr(11, 1, 0x14)]);
        mapping.set(0x67, [toChrAddr(11, 1, 0x15)]);
        mapping.set(0x76, [toChrAddr(11, 1, 0x08)]);
        mapping.set(0x77, [toChrAddr(11, 1, 0x09)]);
        mapping.set(0x86, [toChrAddr(11, 1, 0x28)]);
        mapping.set(0x87, [toChrAddr(11, 1, 0x29)]);
        mapping.set(0xa6, [toChrAddr(11, 1, 0x0a)]);
        mapping.set(0xa7, [toChrAddr(11, 1, 0x0b)]);
        mapping.set(0xb6, [toChrAddr(11, 1, 0x2a)]);
        mapping.set(0xb7, [toChrAddr(11, 1, 0x2b)]);
        let copyToAllWeaponPages = (tile) => {
            return [
                toChrAddr(8, 0, tile) + CHR_PAGE_OFFSET * 2,
                toChrAddr(8, 0, tile) + CHR_PAGE_OFFSET * 3,
                toChrAddr(8, 1, tile),
                toChrAddr(8, 1, tile) + CHR_PAGE_OFFSET,
                toChrAddr(8, 1, tile) + CHR_PAGE_OFFSET * 2,
            ];
        };
        mapping.set(0xf0, copyToAllWeaponPages(0x10));
        mapping.set(0xf1, copyToAllWeaponPages(0x11));
        mapping.set(0xf2, copyToAllWeaponPages(0x12));
        mapping.set(0xf3, copyToAllWeaponPages(0x13));
        mapping.set(0xf4, copyToAllWeaponPages(0x14));
        mapping.set(0xf5, copyToAllWeaponPages(0x15));
        mapping.set(0xf6, copyToAllWeaponPages(0x16));
        mapping.set(0xf7, copyToAllWeaponPages(0x17));
        mapping.set(0xf8, [toChrAddr(8, 1, 0xed)]);
        mapping.set(0xf9, copyToAllWeaponPages(0x19));
        mapping.set(0xfa, copyToAllWeaponPages(0x1a));
        mapping.set(0xfc, copyToAllWeaponPages(0x30));
        mapping.set(0xfd, copyToAllWeaponPages(0x31));
        mapping.set(0xfe, copyToAllWeaponPages(0x32));
        mapping.set(0xff, copyToAllWeaponPages(0x33));
        return mapping;
    }
}
async function loadNssFileFromServer(path) {
    const data = await (await fetch(path)).text();
    const filename = path.replace(/^.*[\\\/]/, '');
    return parseNssFile(filename, data);
}
function unRLE(d) {
    let buffer = "";
    let current = "";
    let i = 0;
    while (i < d.length) {
        if (d[i] === "[") {
            ++i;
            const nextI = d.indexOf("]", i);
            const rle = parseInt(d.slice(i, nextI), 16) - 1;
            buffer += current.repeat(rle);
            i = nextI + 1;
        }
        else {
            current = d.slice(i, i + 2);
            buffer += current;
            i += 2;
        }
    }
    return buffer;
}
function chunk(str, size) {
    return str.match(new RegExp('.{1,' + size + '}', 'g')) || [];
}
function hexstrToBytes(str) {
    const bytes = chunk(str, 2).map(s => parseInt(s, 16));
    return new Uint8Array(bytes);
}
function hex2Num(strs) {
    return strs.map(s => parseInt(s, 16));
}
export async function parseNssFile(filename, data) {
    const nss = new Map(data.split("\n").filter(s => s.includes("=")).map(s => s.split("=")).map(s => [s[0], s[1]]));
    const paletteData = nss.get("Palette") || "";
    const palette = hex2Num(chunk(unRLE(paletteData).slice(0, 32), 2));
    const chrdata = hexstrToBytes(unRLE(nss.get("CHRMain") || ""));
    const rendered = await createImageFromCHR(new Uint8ClampedArray(chrdata), palette);
    return new NssFile(filename, chrdata, palette, rendered);
}
const basePaletteColors = [
    [84, 84, 84], [0, 30, 116], [8, 16, 144], [48, 0, 136], [68, 0, 100], [92, 0, 48], [84, 4, 0], [60, 24, 0], [32, 42, 0], [8, 58, 0], [0, 64, 0], [0, 60, 0], [0, 50, 60], [0, 0, 0], [0, 0, 0], [0, 0, 0],
    [152, 150, 152], [8, 76, 196], [48, 50, 236], [92, 30, 228], [136, 20, 176], [160, 20, 100], [152, 34, 32], [120, 60, 0], [84, 90, 0], [40, 114, 0], [8, 124, 0], [0, 118, 40], [0, 102, 120], [0, 0, 0], [0, 0, 0], [0, 0, 0],
    [236, 238, 236], [76, 154, 236], [120, 124, 236], [176, 98, 236], [228, 84, 236], [236, 88, 180], [236, 106, 100], [212, 136, 32], [160, 170, 0], [116, 196, 0], [76, 208, 32], [56, 204, 108], [56, 180, 204], [60, 60, 60], [0, 0, 0], [0, 0, 0],
    [236, 238, 236], [168, 204, 236], [188, 188, 236], [212, 178, 236], [236, 174, 236], [236, 174, 212], [236, 180, 176], [228, 196, 144], [204, 210, 120], [180, 222, 120], [168, 226, 144], [152, 226, 180], [160, 214, 228], [160, 162, 160], [0, 0, 0], [0, 0, 0],
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcmFjdGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy9jaGFyYWN0ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sT0FBTztJQUtYLFlBQVksUUFBZ0IsRUFDaEIsT0FBb0IsRUFDcEIsT0FBaUIsRUFDakIsUUFBbUI7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzVELENBQUM7Q0FDRjtBQUVELE1BQU0sQ0FBQyxLQUFLLFVBQVUsc0JBQXNCLENBQUMsR0FBWTtJQUV2RCxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3pELGVBQWUsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO0lBQzVCLGVBQWUsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQzdCLE1BQU0sR0FBRyxHQUFHLGVBQWUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFFLENBQUM7SUFDOUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLEtBQUssQ0FBQztJQUVsQyxHQUFHLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMxQixHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsZUFBZSxDQUFDLEtBQUssRUFBRSxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7SUFHbEUsTUFBTSxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsUUFB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QUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUt6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUt6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQU16QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQU16QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQU16QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl6QyxNQUFNLGdCQUFnQixHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFDLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsRUFBRTtZQUN6QyxNQUFNLFNBQVMsR0FBRyxHQUFHLEdBQUcsb0JBQW9CLENBQUM7WUFDN0MsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxDQUFDO1lBQ3hELE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ25DO1FBVUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFJMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFJMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFJMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFJMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFLMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFJMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMs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TyxDQUFDLENBQUM7SUFDbkYsT0FBTyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUMzRCxDQUFDO0FBRUQsTUFBTSxpQkFBaUIsR0FBZTtJQUNwQyxDQUFFLEVBQUUsRUFBRyxFQUFFLEVBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBRyxDQUFDLEVBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUcsQ0FBQyxFQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFFLEVBQUUsRUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBRSxFQUFFLEVBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFJLENBQUMsRUFBRyxFQUFFLENBQUMsRUFBRSxDQUFFLEVBQUUsRUFBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBRSxFQUFFLEVBQUcsRUFBRSxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFHLEVBQUUsRUFBSSxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBRyxFQUFFLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBRyxDQUFDLEVBQUcsRUFBRSxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUcsQ0FBQyxFQUFHLEVBQUUsRUFBSSxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBRyxFQUFFLEVBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBRyxDQUFDLEVBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUcsQ0FBQyxFQUFJLENBQUMsRUFBSSxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBSSxDQUFDLEVBQUksQ0FBQyxDQUFDO0lBQzlRLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBRSxFQUFFLEVBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFHLEVBQUUsRUFBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRyxFQUFFLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBRSxFQUFFLEVBQUcsRUFBRSxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFFLEdBQUcsRUFBSSxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBRSxHQUFHLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBRyxDQUFDLEVBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUcsQ0FBQyxFQUFJLENBQUMsRUFBSSxDQUFDLENBQUM7SUFDOVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRyxFQUFFLENBQUMsRUFBRSxDQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFHLEVBQUUsRUFBRyxFQUFFLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBRyxDQUFDLEVBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQztJQUM5USxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUcsQ0FBQyxFQUFJLENBQUMsRUFBSSxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUMsRUFBSSxDQUFDLEVBQUksQ0FBQyxDQUFDO0NBQy9RLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuXG5jbGFzcyBOc3NGaWxlIHtcbiAgcmVhZG9ubHkgZmlsZW5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgY2hyZGF0YTogbnVtYmVyW107XG4gIHJlYWRvbmx5IHBhbGV0dGU6IG51bWJlcltdO1xuICByZWFkb25seSByZW5kZXJlZDogbnVtYmVyW107XG4gIGNvbnN0cnVjdG9yKGZpbGVuYW1lOiBzdHJpbmcsXG4gICAgICAgICAgICAgIGNocmRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICAgICBwYWxldHRlOiBudW1iZXJbXSxcbiAgICAgICAgICAgICAgcmVuZGVyZWQ6IEltYWdlRGF0YSkge1xuICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICB0aGlzLmNocmRhdGEgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGNocmRhdGEpKTtcbiAgICB0aGlzLnBhbGV0dGUgPSBwYWxldHRlO1xuICAgIHRoaXMucmVuZGVyZWQgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KHJlbmRlcmVkLmRhdGEpKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVUaHVtYm5haWxJbWFnZShuc3M6IE5zc0ZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuICAvLyBnbG9iYWwgb2Zmc2NyZWVuIGNhbnZhcyBpcyBwcm9iYWJseSBub3QgbmVlZGVkLCBidXQgZXZlcnkgaW1hZ2UgXG4gIGNvbnN0IG9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBvZmZzY3JlZW5DYW52YXMud2lkdGggPSAxMTI7XG4gIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSAxMDA7XG4gIGNvbnN0IGN0eCA9IG9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbiAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAvLyBjbGVhciB0aGUgYmFja2dyb3VuZFxuICBjdHguZmlsbFN0eWxlID0gXCIjMTU1ZmQ5XCI7XG4gIGN0eC5maWxsUmVjdCgwLCAwLCBvZmZzY3JlZW5DYW52YXMud2lkdGgsIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpO1xuXG4gIC8vIGJsaXQgdGhlIG1haW4gY2hhcmFjdGVyIGZyb20gdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgcHJlLXJlbmRlcmVkIENIUlxuICBjb25zdCBpbWdEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkobnNzLnJlbmRlcmVkKSwgMTI4LCAxMjgpXG4gIGNvbnN0IGltZ0JpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGltZ0RhdGEsIHtyZXNpemVRdWFsaXR5OiBcInBpeGVsYXRlZFwifSk7XG4gIGN0eC5kcmF3SW1hZ2UoaW1nQml0bWFwLCAwLDAsMTYsMjQsIDI0LDIsMTYqNCwyNCo0KTtcbiAgcmV0dXJuIG9mZnNjcmVlbkNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJbWFnZUZyb21DSFIoYnVmZmVyOiBBcnJheUJ1ZmZlciwgcGFsZXR0ZTpudW1iZXJbXSk6IFByb21pc2U8SW1hZ2VEYXRhPiB7XG4gIGNvbnN0IHRpbGVDb3VudCA9IGJ1ZmZlci5ieXRlTGVuZ3RoIC8gMTY7IC8vIDE2IGJ5dGVzIHBlciB0aWxlXG4gIGNvbnN0IHBpeGVsc1BlclRpbGUgPSA4O1xuICAvLyBUT0RPOiBpZiB3ZSBzdGFydCBzdXBwb3J0aW5nIHR3byBjb2xvciBtZXNpYSwgdGhlbiB3ZSBuZWVkIHRvIGhhbmRsZSBtdWx0aXBsZSBwYWxldHRlc1xuICBjb25zdCBwYWxldHRlSWR4ID0gMDtcblxuICBjb25zdCBvZmZzY3JlZW5DYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgb2Zmc2NyZWVuQ2FudmFzLndpZHRoID0gMTI4O1xuICBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0ID0gMTI4O1xuICBjb25zdCBjdHggPSBvZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG4gIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5jcmVhdGVJbWFnZURhdGEoMTI4LCAxMjgpO1xuXG4gIGNvbnN0IHZpZXcgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyKTtcbiAgZm9yIChsZXQgbj0wOyBuIDwgdGlsZUNvdW50OyArK24pIHtcbiAgICBjb25zdCBvZmZzZXQgPSBuICogMTY7XG4gICAgY29uc3QgeCA9IChuICUgMTYpICogODtcbiAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihuIC8gMTYpICogODtcbiAgICBmb3IgKGxldCBqPTA7IGogPCBwaXhlbHNQZXJUaWxlOyArK2opIHtcbiAgICAgIGNvbnN0IHBsYW5lMCA9IHZpZXdbb2Zmc2V0ICsgal07XG4gICAgICBjb25zdCBwbGFuZTEgPSB2aWV3W29mZnNldCArIGogKyA4XTtcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IHBpeGVsc1BlclRpbGU7ICsraSkge1xuICAgICAgICBjb25zdCBwaXhlbGJpdCA9IDctaTtcbiAgICAgICAgY29uc3QgYml0MCA9IChwbGFuZTA+PnBpeGVsYml0KSAmIDE7XG4gICAgICAgIGNvbnN0IGJpdDEgPSAoKHBsYW5lMT4+cGl4ZWxiaXQpICYgMSkgPDwgMTtcbiAgICAgICAgY29uc3QgY29sb3IgPSAoYml0MCB8IGJpdDEpICsgKHBhbGV0dGVJZHggKiA0KTtcbiAgICAgICAgY29uc3QgYXBwbGllZENvbG9yID0gYmFzZVBhbGV0dGVDb2xvcnNbcGFsZXR0ZVtjb2xvcl1dO1xuICAgICAgICAvLyAzZCAtPiAxZCBhcnJheSBjb252ZXJzaW9uLiB0aGUgZGVzdCBpcyBhIDNkIGRhdGFbMTI4XVsxMjhdWzRdIHRoYXQgd2VcbiAgICAgICAgLy8gYWNjZXNzIHRocm91Z2ggYSAxZCB2aWV3LCBzbyB3ZSBkbyB6ICsgeCAqIHdpZHRoICsgeSAqIHdpZHRoICogaGVpZ2h0XG4gICAgICAgIGNvbnN0IGsgPSAoeCArIGkpICogNCArICh5ICsgaikgKiA0ICogMTI4O1xuICAgICAgICBpbWFnZURhdGEuZGF0YVswICsga10gPSBhcHBsaWVkQ29sb3JbMF07IC8vIFJcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGFbMSArIGtdID0gYXBwbGllZENvbG9yWzFdOyAvLyBHXG4gICAgICAgIGltYWdlRGF0YS5kYXRhWzIgKyBrXSA9IGFwcGxpZWRDb2xvclsyXTsgLy8gQlxuICAgICAgICBpbWFnZURhdGEuZGF0YVszICsga10gPSAoY29sb3IgPT0gMCkgPyAwIDogMjU1OyAvLyBBXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBpbWFnZURhdGE7XG59XG5cbmV4cG9ydCBjbGFzcyBTcHJpdGUge1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvbnZlcnRlcjogc3RyaW5nO1xuICByZWFkb25seSBuc3NkYXRhOiBOc3NGaWxlO1xuICByZWFkb25seSBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgICBjb252ZXJ0ZXI6IHN0cmluZyxcbiAgICAgICAgICAgICAgbnNzZGF0YTogTnNzRmlsZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY29udmVydGVyID0gY29udmVydGVyO1xuICAgIHRoaXMubnNzZGF0YSA9IG5zc2RhdGE7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGluaXQobmFtZTogc3RyaW5nLCBjb252ZXJ0ZXI6IHN0cmluZywgbnNzZGF0YTogUHJvbWlzZTxOc3NGaWxlPiwgZGVzY3JpcHRpb24/OiBzdHJpbmcpOiBQcm9taXNlPFNwcml0ZT4ge1xuICAgIGNvbnN0IG5zcyA9IGF3YWl0IG5zc2RhdGE7XG4gICAgcmV0dXJuIG5ldyBTcHJpdGUobmFtZSwgY29udmVydGVyLCBuc3MsIGRlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaXNDdXN0b20gPSAoczogU3ByaXRlKSA9PiB7IHJldHVybiBzLm5hbWUgIT0gXCJTaW1lYVwiOyB9XG5cbiAgcHVibGljIHN0YXRpYyBhcHBseVBhdGNoKHM6IFNwcml0ZSwgcm9tOiBVaW50OEFycmF5LCBleHBhbmRlZFBSRzogQm9vbGVhbikge1xuICAgIGlmICghU3ByaXRlLmlzQ3VzdG9tKHMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4cGFuZGVkT2Zmc2V0ID0gZXhwYW5kZWRQUkcgPyAweDQwMDAwIDogMDtcbiAgICBmb3IgKGxldCBbc3JjLCBkc3RzXSBvZiBDdXN0b21UaWxlc2V0TWFwcGluZy5nZXRDaHIocy5jb252ZXJ0ZXIpKSB7XG4gICAgICBmb3IgKGxldCBkc3Qgb2YgZHN0cykge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8MHgxMDsgKytpKSB7XG4gICAgICAgICAgcm9tW2RzdCArIGkgKyBleHBhbmRlZE9mZnNldF0gPSBzLm5zc2RhdGEuY2hyZGF0YVtzcmMgKiAweDEwICsgaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gYXBwbHkgdGhlIHBhbGV0dGUgZnJvbSB0aGUgc3ByaXRlIGZvciB0aGlzIGNvbnZlcnRlclxuICAgIGZvciAobGV0IFtzcmMsIGRzdHNdIG9mIEN1c3RvbVRpbGVzZXRNYXBwaW5nLmdldFBhbGV0dGUocy5jb252ZXJ0ZXIpKSB7XG4gICAgICBmb3IgKGxldCBkc3Qgb2YgZHN0cykge1xuICAgICAgICBzd2l0Y2ggKHNyYykge1xuICAgICAgICAgIGNhc2UgXCJjb2xvcjBcIjpcbiAgICAgICAgICAgIHJvbVtkc3RdID0gcy5uc3NkYXRhLnBhbGV0dGVbMF07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY29sb3IxXCI6XG4gICAgICAgICAgICByb21bZHN0XSA9IHMubnNzZGF0YS5wYWxldHRlWzFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNvbG9yMlwiOlxuICAgICAgICAgICAgcm9tW2RzdF0gPSBzLm5zc2RhdGEucGFsZXR0ZVsyXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJjb2xvcjNcIjpcbiAgICAgICAgICAgIHJvbVtkc3RdID0gcy5uc3NkYXRhLnBhbGV0dGVbM107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibWV0YXNwcml0ZVwiOlxuICAgICAgICAgICAgcm9tW2RzdCArIGV4cGFuZGVkT2Zmc2V0XSA9IDB4MDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyU2V0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENoYXJhY3RlclNldDtcbiAgcHJpdmF0ZSByZWFkb25seSBzaW1lYVJlcGxhY2VtZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBQcm9taXNlPFNwcml0ZT4+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWFwcGluZzogTWFwPHN0cmluZywgTWFwPHN0cmluZywgUHJvbWlzZTxTcHJpdGU+Pj4gPSBuZXcgTWFwKCk7XG5cbiAgcHVibGljIHN0YXRpYyBnZXQod2hpY2g6IHN0cmluZyk6IE1hcDxzdHJpbmcsIFByb21pc2U8U3ByaXRlPj4ge1xuICAgIGlmICghdGhpcy5pbnN0YW5jZSkgdGhpcy5pbnN0YW5jZSA9IG5ldyBDaGFyYWN0ZXJTZXQoKTtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS5tYXBwaW5nLmdldCh3aGljaCkhO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zaW1lYVJlcGxhY2VtZW50cy5zZXQoXCJTaW1lYVwiLCBTcHJpdGUuaW5pdChcIlNpbWVhXCIsIFwic2ltZWFcIiwgbG9hZE5zc0ZpbGVGcm9tU2VydmVyKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0cy9TaW1lYS5uc3NcIiksIFwiVGhlIG9yaWdpbmFsIG1haW4gY2hhcmFjdGVyIG9mIENyeXN0YWxpc1wiKSk7XG4gICAgdGhpcy5zaW1lYVJlcGxhY2VtZW50cy5zZXQoXCJNZXNpYVwiLCBTcHJpdGUuaW5pdChcIk1lc2lhXCIsIFwic2ltZWFcIiwgbG9hZE5zc0ZpbGVGcm9tU2VydmVyKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0cy9NZXNpYS5uc3NcIiksIFwiU2Vjb25kYXJ5IHByb3RhZ29uaXN0IE1lc2lhIHRha2VzIHRoZSBzcG90bGlnaHQhIEFydHdvcmsgYnkganJvd2Vib3lcIikpO1xuICAgIHRoaXMubWFwcGluZy5zZXQoXCJzaW1lYVwiLCB0aGlzLnNpbWVhUmVwbGFjZW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b0NockFkZHIoY2hyX3BhZ2U6IG51bWJlciwgbmFtZXRhYmxlOiBudW1iZXIsIHRpbGVfbnVtYmVyOiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCBiYXNlQWRkciA9IDB4NDAwMDAgKyAweDEwOyAvLyBhZGRlZCAweDEwIHRvIGFjY291bnQgZm9yIHJvbSBoZWFkZXJcbiAgcmV0dXJuIGJhc2VBZGRyICsgY2hyX3BhZ2UgKiAweDIwMDAgKyBuYW1ldGFibGUgKiAweDEwMDAgKyB0aWxlX251bWJlciAqIDB4MTA7XG59XG5cbi8vIFByb3ZpZGVzIGEgbG9va3VwIGZyb20gdGhlIHNhbXBsZSB0aWxlc2V0IHRvIHRoZSBDSFJST00gbG9jYXRpb25zXG5leHBvcnQgY2xhc3MgQ3VzdG9tVGlsZXNldE1hcHBpbmcge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQ3VzdG9tVGlsZXNldE1hcHBpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2ltZWFDaHJNYXBwaW5nOiBNYXA8bnVtYmVyLCBudW1iZXJbXT47XG4gIHByaXZhdGUgcmVhZG9ubHkgc2ltZWFQYWxldHRlTWFwcGluZzogTWFwPHN0cmluZywgbnVtYmVyW10+O1xuICBwcml2YXRlIHJlYWRvbmx5IGNock1hcHBpbmc6IE1hcDxzdHJpbmcsIE1hcDxudW1iZXIsIG51bWJlcltdPj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGFsZXR0ZU1hcHBpbmc6IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIG51bWJlcltdPj4gPSBuZXcgTWFwKCk7XG5cbiAgcHVibGljIHN0YXRpYyBnZXRDaHIod2hpY2g6IHN0cmluZyk6IE1hcDxudW1iZXIsIG51bWJlcltdPiB7XG4gICAgaWYgKCF0aGlzLmluc3RhbmNlKSB0aGlzLmluc3RhbmNlID0gbmV3IEN1c3RvbVRpbGVzZXRNYXBwaW5nKCk7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UuY2hyTWFwcGluZy5nZXQod2hpY2gpITtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0UGFsZXR0ZSh3aGljaDogc3RyaW5nKTogTWFwPHN0cmluZywgbnVtYmVyW10+IHtcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHRoaXMuaW5zdGFuY2UgPSBuZXcgQ3VzdG9tVGlsZXNldE1hcHBpbmcoKTtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS5wYWxldHRlTWFwcGluZy5nZXQod2hpY2gpITtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2ltZWFDaHJNYXBwaW5nID0gdGhpcy5nZW5lcmF0ZVNpbWVhTWFwcGluZygpO1xuICAgIHRoaXMuc2ltZWFQYWxldHRlTWFwcGluZyA9IHRoaXMuZ2VuZXJhdGVTaW1lYVBhbGV0dGUoKTtcbiAgICB0aGlzLmNock1hcHBpbmcuc2V0KFwic2ltZWFcIiwgdGhpcy5zaW1lYUNock1hcHBpbmcpO1xuICAgIHRoaXMucGFsZXR0ZU1hcHBpbmcuc2V0KFwic2ltZWFcIiwgdGhpcy5zaW1lYVBhbGV0dGVNYXBwaW5nKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVTaW1lYVBhbGV0dGUoKSA6IE1hcDxzdHJpbmcsIG51bWJlcltdPiB7XG4gICAgY29uc3QgbWFwcGluZyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXJbXT4oKTtcbiAgICAvLyBtb3ZlIHRoZSBjaGFyYWN0ZXIgbWFpbiBwYWxldHRlIHRvIHBhbGV0dGVfYjBcbiAgICBjb25zdCBjdXN0b21DaGFyUGFsZXR0ZUFkZHIgPSAweDZjZjAgKyAweDEwO1xuICAgIG1hcHBpbmcuc2V0KFwiY29sb3IwXCIsIFtjdXN0b21DaGFyUGFsZXR0ZUFkZHIgKyAwXSk7XG4gICAgbWFwcGluZy5zZXQoXCJjb2xvcjFcIiwgW2N1c3RvbUNoYXJQYWxldHRlQWRkciArIDFdKTtcbiAgICBtYXBwaW5nLnNldChcImNvbG9yMlwiLCBbY3VzdG9tQ2hhclBhbGV0dGVBZGRyICsgMl0pO1xuICAgIG1hcHBpbmcuc2V0KFwiY29sb3IzXCIsIFtjdXN0b21DaGFyUGFsZXR0ZUFkZHIgKyAzXSk7XG4gICAgbWFwcGluZy5zZXQoXCJtZXRhc3ByaXRlXCIsIFsweDNjMDU0ICsgMHgxMF0pO1xuICAgIHJldHVybiBtYXBwaW5nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVNpbWVhTWFwcGluZygpIDogTWFwPG51bWJlciwgbnVtYmVyW10+IHtcbiAgICAvLyBGb3IgbW9zdCBvZiB0aGUgbWFwcGluZ3MsIHRoZXJlIGlzIG9ubHkgb25lIGxvY2F0aW9uIHRvIHdyaXRlIGl0IHRvLCBidXQgZm9yIHNvbWUsIGl0cyBzcGxpdCBhY3Jvc3Mgc2V2ZXJhbCBDSFJST00gYmFua3MuXG4gICAgLy8gc28gdGhhdHMgd2h5IGl0cyBhIG1hcCBvZiB0aWxlc2V0IG51bWJlciB0byBhIGxpc3Qgb2YgYWRkcmVzc2VzXG5cbiAgICAvLyBBIENIUiB0aWxlc2V0IGlzIDE2IHRpbGVzIHdpZGUsIHRoZSBsZWZ0IDggdGlsZXMgYXJlIHRoZSBubyBhcm1vciBzcHJpdGVzLCB0aGUgcmlnaHQgOCBhcmUgdGhlIGFybW9yIHNwcml0ZXNcbiAgICBjb25zdCBBUk1PUl9USUxFU0VUX09GRlNFVCA9IDB4MDg7XG4gICAgLy8gSW4gdGhlIG9yaWdpbmFsIGdhbWUsIHRoZSBnYW1lIHN3YXBzIHRoZSB0d28gMHgyMCBzaXplIENIUiBiYW5rcyBmb3Igc3ByaXRlcyB0byBzd2l0Y2ggYXJtb3Ivbm8gYXJtb3Igc3ByaXRlc1xuICAgIGNvbnN0IENIUl9QQUdFX09GRlNFVCA9IDB4NDAwO1xuXG4gICAgY29uc3QgbWFwcGluZyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXJbXT4oKTtcbiAgICAvLy8vLy8vLy8vXG4gICAgLy8gV2Fsa2luZyBEb3duXG4gICAgLy8gdG9wIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDAwLCBbdG9DaHJBZGRyKDgsMCwweDFhKV0pO1xuICAgIC8vIHRvcCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4MDEsIFt0b0NockFkZHIoOCwwLDB4MWIpXSk7XG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDEwLCBbdG9DaHJBZGRyKDgsMCwweDAwKV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4MTEsIFt0b0NockFkZHIoOCwwLDB4MDEpXSk7XG4gICAgLy8gYm90IGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDIwLCBbdG9DaHJBZGRyKDgsMCwweDIwKV0pO1xuICAgIC8vIGJvdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4MjEsIFt0b0NockFkZHIoOCwwLDB4MjEpXSk7XG5cbiAgICAvLy8vLy8vLy8vXG4gICAgLy8gV2Fsa2luZyBMZWZ0XG4gICAgLy8gdG9wIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDAyLCBbdG9DaHJBZGRyKDgsMCwweDFjKV0pO1xuICAgIC8vIHRvcCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4MDMsIFt0b0NockFkZHIoOCwwLDB4MWQpXSk7XG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDEyLCBbdG9DaHJBZGRyKDgsMCwweDAyKV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4MTMsIFt0b0NockFkZHIoOCwwLDB4MDMpXSk7XG4gICAgLy8gbWlkIGFybSBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHgxNCwgW3RvQ2hyQWRkcig4LDAsMHgwNCldKTtcbiAgICAvLyBtaWQgYXJtIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHgxNSwgW3RvQ2hyQWRkcig4LDAsMHgwNSldKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4MjIsIFt0b0NockFkZHIoOCwwLDB4MjIpXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHgyMywgW3RvQ2hyQWRkcig4LDAsMHgyMyldKTtcbiAgICAvLyBib3QgbGVnIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDI0LCBbdG9DaHJBZGRyKDgsMCwweDI0KV0pO1xuICAgIC8vIGJvdCBsZWcgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweDI1LCBbdG9DaHJBZGRyKDgsMCwweDI1KV0pO1xuXG4gICAgLy8vLy8vLy8vL1xuICAgIC8vIFdhbGtpbmcgVXBcbiAgICAvLyBVcCB0b3AgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4MDYsIFt0b0NockFkZHIoOCwwLDB4MWUpXSk7XG4gICAgLy8gVXAgdG9wIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHgwNywgW3RvQ2hyQWRkcig4LDAsMHgxZildKTtcbiAgICAvLyBVcCBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4MTYsIFt0b0NockFkZHIoOCwwLDB4MDYpXSk7XG4gICAgLy8gVXAgbWlkIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHgxNywgW3RvQ2hyQWRkcig4LDAsMHgwNyldKTtcbiAgICAvLyBVcCBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4MjYsIFt0b0NockFkZHIoOCwwLDB4MjYpXSk7XG4gICAgLy8gVXAgYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHgyNywgW3RvQ2hyQWRkcig4LDAsMHgyNyldKTtcblxuICAgIC8vLy8vLy8vLy9cbiAgICAvLyBVcCBhdHRhY2tcbiAgICAvLyBGcmFtZSAxXG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDQwLCBbdG9DaHJBZGRyKDgsMCwweDE0KV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NDEsIFt0b0NockFkZHIoOCwwLDB4MTUpXSk7XG4gICAgLy8gYm90IGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDUwLCBbdG9DaHJBZGRyKDgsMCwweDM0KV0pO1xuICAgIC8vIGJvdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NTEsIFt0b0NockFkZHIoOCwwLDB4MzUpXSk7XG5cbiAgICAvLyBGcmFtZSAyXG4gICAgLy8gdG9wIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDMyLCBbdG9DaHJBZGRyKDgsMCwweDNjKV0pO1xuICAgIC8vIHRvcCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4MzMsIFt0b0NockFkZHIoOCwwLDB4M2QpXSk7XG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDQyLCBbdG9DaHJBZGRyKDgsMCwweDE4KV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NDMsIFt0b0NockFkZHIoOCwwLDB4MTkpXSk7XG4gICAgLy8gYm90IGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDUyLCBbdG9DaHJBZGRyKDgsMCwweDM4KV0pO1xuICAgIC8vIGJvdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NTMsIFt0b0NockFkZHIoOCwwLDB4MjcpXSk7XG5cbiAgICAvLyBGcmFtZSAzXG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDQ0LCBbdG9DaHJBZGRyKDgsMCwweDE2KV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NDUsIFt0b0NockFkZHIoOCwwLDB4MTcpXSk7XG4gICAgLy8gYm90IGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDU0LCBbdG9DaHJBZGRyKDgsMCwweDM2KV0pO1xuXG4gICAgLy8vLy8vLy9cbiAgICAvLyBMZWZ0IGF0dGFja1xuICAgIC8vIEZyYW1lIDFcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4NzAsIFt0b0NockFkZHIoOCwwLDB4MGUpXSk7XG4gICAgLy8gbWlkIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg3MSwgW3RvQ2hyQWRkcig4LDAsMHgwZildKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4ODAsIFt0b0NockFkZHIoOCwwLDB4MmUpXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg4MSwgW3RvQ2hyQWRkcig4LDAsMHgyZildKTtcblxuICAgIC8vIEZyYW1lIDJcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4NzIsIFt0b0NockFkZHIoOCwwLDB4MTIpXSk7XG4gICAgLy8gbWlkIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg3MywgW3RvQ2hyQWRkcig4LDAsMHgxMyldKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4ODIsIFt0b0NockFkZHIoOCwwLDB4MzApXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg4MywgW3RvQ2hyQWRkcig4LDAsMHgzMyldKTtcblxuICAgIC8vIEZyYW1lIDNcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4NzQsIFt0b0NockFkZHIoOCwwLDB4MTApXSk7XG4gICAgLy8gbWlkIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg3NSwgW3RvQ2hyQWRkcig4LDAsMHgxMSldKTtcbiAgICAvLyBib3QgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweDg1LCBbdG9DaHJBZGRyKDgsMCwweDMxKV0pO1xuXG4gICAgLy8vLy8vLy8vL1xuICAgIC8vIERvd24gYXR0YWNrXG4gICAgLy8gRnJhbWUgMVxuICAgIC8vIG1pZCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhhMCwgW3RvQ2hyQWRkcig4LDAsMHgwOCldKTtcbiAgICAvLyBtaWQgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGExLCBbdG9DaHJBZGRyKDgsMCwweDA5KV0pO1xuICAgIC8vIGJvdCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhiMCwgW3RvQ2hyQWRkcig4LDAsMHgyOCldKTtcblxuICAgIC8vIEZyYW1lIDJcbiAgICAvLyB0b3AgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4OTIsIFt0b0NockFkZHIoOCwwLDB4M2EpXSk7XG4gICAgLy8gdG9wIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg5MywgW3RvQ2hyQWRkcig4LDAsMHgzYildKTtcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4YTIsIFt0b0NockFkZHIoOCwwLDB4MGMpXSk7XG4gICAgLy8gbWlkIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhhMywgW3RvQ2hyQWRkcig4LDAsMHgwZCldKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4YjIsIFt0b0NockFkZHIoOCwwLDB4MmMpXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhiMywgW3RvQ2hyQWRkcig4LDAsMHgyZCldKTtcblxuICAgIC8vIEZyYW1lIDNcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4YTQsIFt0b0NockFkZHIoOCwwLDB4MGEpXSk7XG4gICAgLy8gbWlkIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhhNSwgW3RvQ2hyQWRkcig4LDAsMHgwYildKTtcbiAgICAvLyBib3QgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGI1LCBbdG9DaHJBZGRyKDgsMCwweDJiKV0pO1xuXG4gICAgLy8gQXJtb3IgbWFwcGluZ3NcbiAgICAvLyBDcmVhdGUgdGhlIGFybW9yIG1hcHBpbmdzIGJ5IHVzaW5nIHRoZSBoYXJkY29kZWQgc3ByaXRlIG1hcHBpbmdzIGJ1dCB3aXRoIHRoZSBhcm1vciBvZmZzZXRzXG4gICAgY29uc3Qgbm9hcm1vcl9tYXBwaW5ncyA9IG5ldyBNYXAobWFwcGluZyk7XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIG5vYXJtb3JfbWFwcGluZ3MpIHtcbiAgICAgIGNvbnN0IGFybW9yX2tleSA9IGtleSArIEFSTU9SX1RJTEVTRVRfT0ZGU0VUO1xuICAgICAgY29uc3QgYXJtb3JfdmFsID0gdmFsdWUubWFwKChrKSA9PiBrICsgQ0hSX1BBR0VfT0ZGU0VUKTtcbiAgICAgIG1hcHBpbmcuc2V0KGFybW9yX2tleSwgYXJtb3JfdmFsKTtcbiAgICB9XG5cbiAgICAvLy8vLy8vLy9cbiAgICAvLyBUaGUgZm9sbG93aW5nIG5vIGFybW9yIGFuaW1hdGlvbnMgaGF2ZSBhbiBhcm1vciBjb3VudGVycGFydCwgYnV0IGl0cyB1bnVzZWQgaW4gdGhlIG9yaWdpbmFsIGdhbWUuXG4gICAgLy8gVGhlIHNwcml0ZSBzaGVldCBpcyBhcnJhbmdlZCBzbyB0aGF0IGlmIHdlIGZpeCBpdCBzbyBhcm1vciBzaG93cyBpbiB0aGVzZSBzY2VuZXMgKGRlYXRoLCBob2xkaW5nIHN3b3JkLCB0ZWxlcGF0aHkpXG4gICAgLy8gVGhlbiB3ZSBjYW4gcmV1c2UgdGhlIGFybW9yIG1hcHBpbmcgY29kZSBhYm92ZS5cblxuICAgIC8vIERlYXRoXG4gICAgLy8gRnJhbWUgMVxuICAgIC8vIHRvcCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhjMCwgW3RvQ2hyQWRkcigxMSwxLDB4MDApXSk7XG4gICAgLy8gdG9wIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhjMSwgW3RvQ2hyQWRkcigxMSwxLDB4MDEpXSk7XG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweGQwLCBbdG9DaHJBZGRyKDExLDEsMHgwMildKTtcbiAgICAvLyBtaWQgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGQxLCBbdG9DaHJBZGRyKDExLDEsMHgwMyldKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4ZTAsIFt0b0NockFkZHIoMTEsMSwweDA0KV0pO1xuICAgIC8vIGJvdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4ZTEsIFt0b0NockFkZHIoMTEsMSwweDA1KV0pO1xuXG4gICAgLy8gRnJhbWUgMlxuICAgIC8vIHRvcCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhjMiwgW3RvQ2hyQWRkcigxMSwxLDB4MjQpXSk7XG4gICAgLy8gdG9wIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhjMywgW3RvQ2hyQWRkcigxMSwxLDB4MjUpXSk7XG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweGQyLCBbdG9DaHJBZGRyKDExLDEsMHgwNildKTtcbiAgICAvLyBtaWQgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGQzLCBbdG9DaHJBZGRyKDExLDEsMHgwNyldKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4ZTIsIFt0b0NockFkZHIoMTEsMSwweDI2KV0pO1xuICAgIC8vIGJvdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4ZTMsIFt0b0NockFkZHIoMTEsMSwweDI3KV0pO1xuXG4gICAgLy8gRnJhbWUgM1xuICAgIC8vIHRvcCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhjNCwgW3RvQ2hyQWRkcigxMSwxLDB4MjApXSk7XG4gICAgLy8gdG9wIHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhjNSwgW3RvQ2hyQWRkcigxMSwxLDB4MjEpXSk7XG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweGQ0LCBbdG9DaHJBZGRyKDExLDEsMHgyMildKTtcbiAgICAvLyBtaWQgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGQ1LCBbdG9DaHJBZGRyKDExLDEsMHgyMyldKTtcblxuICAgIC8vIEZyYW1lIDRcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4ZDYsIFt0b0NockFkZHIoMTEsMSwweDE0KV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4ZDcsIFt0b0NockFkZHIoMTEsMSwweDE1KV0pO1xuICAgIC8vIGJvdCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhlNiwgW3RvQ2hyQWRkcigxMSwxLDB4MTYpXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHhlNywgW3RvQ2hyQWRkcigxMSwxLDB4MTcpXSk7XG5cbiAgICAvLyBIb2xkaW5nIHN3b3JkXG4gICAgLy8gdG9wIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDM2LCBbdG9DaHJBZGRyKDExLDEsMHgwYyldKTtcbiAgICAvLyB0b3AgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweDM3LCBbdG9DaHJBZGRyKDExLDEsMHgwZCldKTtcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4NDYsIFt0b0NockFkZHIoMTEsMSwweDMyKV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NDcsIFt0b0NockFkZHIoMTEsMSwweDMzKV0pO1xuICAgIC8vIGJvdCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHg1NiwgW3RvQ2hyQWRkcigxMSwxLDB4MmUpXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg1NywgW3RvQ2hyQWRkcigxMSwxLDB4MmYpXSk7XG5cbiAgICAvLyBUZWxlcGF0aHlcbiAgICAvLyBGcmFtZSAxXG4gICAgLy8gdG9wIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweDY2LCBbdG9DaHJBZGRyKDExLDEsMHgxNCldKTtcbiAgICAvLyB0b3AgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweDY3LCBbdG9DaHJBZGRyKDExLDEsMHgxNSldKTtcbiAgICAvLyBtaWQgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4NzYsIFt0b0NockFkZHIoMTEsMSwweDA4KV0pO1xuICAgIC8vIG1pZCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4NzcsIFt0b0NockFkZHIoMTEsMSwweDA5KV0pO1xuICAgIC8vIGJvdCBsZWZ0XG4gICAgbWFwcGluZy5zZXQoMHg4NiwgW3RvQ2hyQWRkcigxMSwxLDB4MjgpXSk7XG4gICAgLy8gYm90IHJpZ2h0XG4gICAgbWFwcGluZy5zZXQoMHg4NywgW3RvQ2hyQWRkcigxMSwxLDB4MjkpXSk7XG5cbiAgICAvLyBGcmFtZSAyXG4gICAgLy8gbWlkIGxlZnRcbiAgICBtYXBwaW5nLnNldCgweGE2LCBbdG9DaHJBZGRyKDExLDEsMHgwYSldKTtcbiAgICAvLyBtaWQgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGE3LCBbdG9DaHJBZGRyKDExLDEsMHgwYildKTtcbiAgICAvLyBib3QgbGVmdFxuICAgIG1hcHBpbmcuc2V0KDB4YjYsIFt0b0NockFkZHIoMTEsMSwweDJhKV0pO1xuICAgIC8vIGJvdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4YjcsIFt0b0NockFkZHIoMTEsMSwweDJiKV0pO1xuXG5cbiAgICAvLy8vLy8vLy8vXG4gICAgLy8gTWlzY1xuICAgIC8vIEVhY2ggc3dvcmQgaGFzIHRoZWlyIG93biBwYWdlIG9mIHNwcml0ZXMsIHNvIGFwcGx5IHRoZSBjaGFuZ2UgdG8gYWxsIHBhZ2VzLlxuICAgIGxldCBjb3B5VG9BbGxXZWFwb25QYWdlcyA9ICh0aWxlOiBudW1iZXIpID0+IHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHRvQ2hyQWRkcig4LCAwLCB0aWxlKSArIENIUl9QQUdFX09GRlNFVCAqIDIsXG4gICAgICAgIHRvQ2hyQWRkcig4LCAwLCB0aWxlKSArIENIUl9QQUdFX09GRlNFVCAqIDMsXG4gICAgICAgIHRvQ2hyQWRkcig4LCAxLCB0aWxlKSxcbiAgICAgICAgdG9DaHJBZGRyKDgsIDEsIHRpbGUpICsgQ0hSX1BBR0VfT0ZGU0VULFxuICAgICAgICB0b0NockFkZHIoOCwgMSwgdGlsZSkgKyBDSFJfUEFHRV9PRkZTRVQgKiAyLFxuICAgICAgXVxuICAgIH1cbiAgICAvLyBTd29yZHNcbiAgICAvLyBkaWFnb25hbCBsZWZ0IHRvcFxuICAgIG1hcHBpbmcuc2V0KDB4ZjAsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MTApKTtcbiAgICAvLyBkaWFnb25hbCBsZWZ0IGJvdFxuICAgIG1hcHBpbmcuc2V0KDB4ZjEsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MTEpKTtcbiAgICAvLyBkb3duIHRvcFxuICAgIG1hcHBpbmcuc2V0KDB4ZjIsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MTIpKTtcbiAgICAvLyBkb3duIGJvdFxuICAgIG1hcHBpbmcuc2V0KDB4ZjMsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MTMpKTtcbiAgICAvLyBsZWZ0IGxlZnRcbiAgICBtYXBwaW5nLnNldCgweGY0LCBjb3B5VG9BbGxXZWFwb25QYWdlcygweDE0KSk7XG4gICAgLy8gbGVmdCByaWdodFxuICAgIG1hcHBpbmcuc2V0KDB4ZjUsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MTUpKTtcbiAgICAvLyBUT0RPOiA/Pz9cbiAgICBtYXBwaW5nLnNldCgweGY2LCBjb3B5VG9BbGxXZWFwb25QYWdlcygweDE2KSk7XG4gICAgLy8gPz8/XG4gICAgbWFwcGluZy5zZXQoMHhmNywgY29weVRvQWxsV2VhcG9uUGFnZXMoMHgxNykpO1xuICAgIC8vIEhpbHQgLSBpcyBvbmx5IGluIHRoZSBwYWdlIHdpdGggbWVzaWEgc2luY2UgaXRzIG9ubHkgdXNlZCBpbiB0aGUgdG93ZXJcbiAgICBtYXBwaW5nLnNldCgweGY4LCBbdG9DaHJBZGRyKDgsIDEsIDB4ZWQpXSk7XG4gICAgLy8gZnVsbCBsZW5ndGggYmxhZGVcbiAgICBtYXBwaW5nLnNldCgweGY5LCBjb3B5VG9BbGxXZWFwb25QYWdlcygweDE5KSk7XG4gICAgLy8gZGlhZ29uYWwgcmlnaHRcbiAgICBtYXBwaW5nLnNldCgweGZhLCBjb3B5VG9BbGxXZWFwb25QYWdlcygweDFhKSk7XG5cbiAgICAvLyBTaGllbGRzXG4gICAgLy8gRG93blxuICAgIG1hcHBpbmcuc2V0KDB4ZmMsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MzApKTtcbiAgICAvLyBMZWZ0XG4gICAgbWFwcGluZy5zZXQoMHhmZCwgY29weVRvQWxsV2VhcG9uUGFnZXMoMHgzMSkpO1xuICAgIC8vIFVwIHRvcFxuICAgIG1hcHBpbmcuc2V0KDB4ZmUsIGNvcHlUb0FsbFdlYXBvblBhZ2VzKDB4MzIpKTtcbiAgICAvLyBVcCBib3RcbiAgICBtYXBwaW5nLnNldCgweGZmLCBjb3B5VG9BbGxXZWFwb25QYWdlcygweDMzKSk7XG5cbiAgICByZXR1cm4gbWFwcGluZztcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkTnNzRmlsZUZyb21TZXJ2ZXIocGF0aDogc3RyaW5nKTogUHJvbWlzZTxOc3NGaWxlPiB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCAoYXdhaXQgZmV0Y2gocGF0aCkpLnRleHQoKTtcbiAgLy8gcmVtb3ZlIHRoZSByZXN0IG9mIHRoZSBwYXRoIHRoYXQgaXMgYmVmb3JlIHRoZSBmaWxlbmFtZS5uc3NcbiAgY29uc3QgZmlsZW5hbWUgPSBwYXRoLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKTtcbiAgcmV0dXJuIHBhcnNlTnNzRmlsZShmaWxlbmFtZSwgZGF0YSk7XG59XG5cbi8qKlxuICogVGV4dCBiYXNlZCBSTEUgZGVjb2Rlci4gVGhlcmUgYXJlIHR3byB0eXBlcyBvZiB0b2tlbnMgaW4gdGhpcyBmb3JtYXQuXG4gKiAtIHh4IEFTQ0lJIGhleCB2YWx1ZVxuICogLSBbeHhdIHRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBwcmV2aW91cyB2YWx1ZS4gTm90ZSB0aGF0IHRoaXMgbnVtYmVyIGluY2x1ZGVzIHRoZSBieXRlIGluIHRoZSBzdHJlYW1cbiAqICAgICAgICBzbyBpZiB5b3UgaGF2ZSAwMlszXSB0aGVuIGl0IGV4cGFuZHMgdG8gMDIwMjAyIChhcyBvcHBvc2VkIHRvIDAyMDIwMjAyKVxuICogQHBhcmFtIGQgLSBSTEUgZW5jb2RlZCB2YWx1ZVxuICovXG4gZnVuY3Rpb24gdW5STEUoZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gIGxldCBjdXJyZW50ID0gXCJcIjtcbiAgbGV0IGk9MDtcbiAgd2hpbGUgKGkgPCBkLmxlbmd0aCkge1xuICAgIGlmIChkW2ldID09PSBcIltcIikge1xuICAgICAgKytpO1xuICAgICAgY29uc3QgbmV4dEkgPSBkLmluZGV4T2YoXCJdXCIsaSk7XG4gICAgICAvLyBTdWJ0cmFjdCBvbmUgYmVjYXVzZSB3ZSBhbHJlYWR5IGFkZGVkIHRoZSBjdXJyZW50IGJ5dGUgdG8gdGhlIGJ1ZmZlciBvbmNlXG4gICAgICBjb25zdCBybGUgPSBwYXJzZUludChkLnNsaWNlKGksIG5leHRJKSwgMTYpIC0gMTtcbiAgICAgIGJ1ZmZlciArPSBjdXJyZW50LnJlcGVhdChybGUpO1xuICAgICAgaSA9IG5leHRJKzE7IC8vICsxIHRvIHNraXAgdGhlIFwiXVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnQgPSBkLnNsaWNlKGksIGkrMik7XG4gICAgICBidWZmZXIgKz0gY3VycmVudDtcbiAgICAgIGkgKz0gMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gY2h1bmsoc3RyOiBzdHJpbmcsIHNpemU6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIHN0ci5tYXRjaChuZXcgUmVnRXhwKCcuezEsJyArIHNpemUgKyAnfScsICdnJykpIHx8IFtdO1xufVxuXG5mdW5jdGlvbiBoZXhzdHJUb0J5dGVzKHN0cjogc3RyaW5nKTogQXJyYXlCdWZmZXIge1xuICBjb25zdCBieXRlcyA9IGNodW5rKHN0ciwgMikubWFwKHMgPT4gcGFyc2VJbnQocywgMTYpKTtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ5dGVzKTtcbn1cblxuZnVuY3Rpb24gaGV4Mk51bShzdHJzOiBzdHJpbmdbXSk6IG51bWJlcltdIHtcbiAgICByZXR1cm4gc3Rycy5tYXAocyA9PiBwYXJzZUludChzLCAxNikpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VOc3NGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZyk6IFByb21pc2U8TnNzRmlsZT4ge1xuICBjb25zdCBuc3MgPSBuZXcgTWFwKGRhdGEuc3BsaXQoXCJcXG5cIikuZmlsdGVyKHMgPT4gcy5pbmNsdWRlcyhcIj1cIikpLm1hcChzID0+IHMuc3BsaXQoXCI9XCIpKS5tYXAocyA9PiBbc1swXSwgc1sxXV0pKTtcbiAgY29uc3QgcGFsZXR0ZURhdGEgPSBuc3MuZ2V0KFwiUGFsZXR0ZVwiKSB8fCBcIlwiO1xuICBjb25zdCBwYWxldHRlID0gaGV4Mk51bShjaHVuayh1blJMRShwYWxldHRlRGF0YSkuc2xpY2UoMCwgMzIpLCAyKSk7XG4gIGNvbnN0IGNocmRhdGEgPSBoZXhzdHJUb0J5dGVzKHVuUkxFKG5zcy5nZXQoXCJDSFJNYWluXCIpIHx8IFwiXCIpKTtcbiAgY29uc3QgcmVuZGVyZWQgPSBhd2FpdCBjcmVhdGVJbWFnZUZyb21DSFIobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGNocmRhdGEpLCBwYWxldHRlKTtcbiAgcmV0dXJuIG5ldyBOc3NGaWxlKGZpbGVuYW1lLCBjaHJkYXRhLCBwYWxldHRlLCByZW5kZXJlZCk7XG59XG5cbmNvbnN0IGJhc2VQYWxldHRlQ29sb3JzOiBudW1iZXJbXVtdID0gW1xuICBbIDg0LCAgODQsICA4NF0sIFsgIDAsICAzMCwgMTE2XSwgWyAgOCwgIDE2LCAxNDRdLCBbIDQ4LCAgIDAsIDEzNl0sIFsgNjgsICAgMCwgMTAwXSwgWyA5MiwgICAwLCAgNDhdLCBbIDg0LCAgIDQsICAgMF0sIFsgNjAsICAyNCwgICAwXSwgWyAzMiwgIDQyLCAgIDBdLCBbICA4LCAgNTgsICAgMF0sIFsgIDAsICA2NCwgICAwXSwgWyAgMCwgIDYwLCAgIDBdLCBbICAwLCAgNTAsICA2MF0sIFsgIDAsICAgMCwgICAwXSwgWyAgMCwgICAwLCAgIDBdLCBbICAwLCAgIDAsICAgMF0sXG4gIFsxNTIsIDE1MCwgMTUyXSwgWyAgOCwgIDc2LCAxOTZdLCBbIDQ4LCAgNTAsIDIzNl0sIFsgOTIsICAzMCwgMjI4XSwgWzEzNiwgIDIwLCAxNzZdLCBbMTYwLCAgMjAsIDEwMF0sIFsxNTIsICAzNCwgIDMyXSwgWzEyMCwgIDYwLCAgIDBdLCBbIDg0LCAgOTAsICAgMF0sIFsgNDAsIDExNCwgICAwXSwgWyAgOCwgMTI0LCAgIDBdLCBbICAwLCAxMTgsICA0MF0sIFsgIDAsIDEwMiwgMTIwXSwgWyAgMCwgICAwLCAgIDBdLCBbICAwLCAgIDAsICAgMF0sIFsgIDAsICAgMCwgICAwXSxcbiAgWzIzNiwgMjM4LCAyMzZdLCBbIDc2LCAxNTQsIDIzNl0sIFsxMjAsIDEyNCwgMjM2XSwgWzE3NiwgIDk4LCAyMzZdLCBbMjI4LCAgODQsIDIzNl0sIFsyMzYsICA4OCwgMTgwXSwgWzIzNiwgMTA2LCAxMDBdLCBbMjEyLCAxMzYsICAzMl0sIFsxNjAsIDE3MCwgICAwXSwgWzExNiwgMTk2LCAgIDBdLCBbIDc2LCAyMDgsICAzMl0sIFsgNTYsIDIwNCwgMTA4XSwgWyA1NiwgMTgwLCAyMDRdLCBbIDYwLCAgNjAsICA2MF0sIFsgIDAsICAgMCwgICAwXSwgWyAgMCwgICAwLCAgIDBdLFxuICBbMjM2LCAyMzgsIDIzNl0sIFsxNjgsIDIwNCwgMjM2XSwgWzE4OCwgMTg4LCAyMzZdLCBbMjEyLCAxNzgsIDIzNl0sIFsyMzYsIDE3NCwgMjM2XSwgWzIzNiwgMTc0LCAyMTJdLCBbMjM2LCAxODAsIDE3Nl0sIFsyMjgsIDE5NiwgMTQ0XSwgWzIwNCwgMjEwLCAxMjBdLCBbMTgwLCAyMjIsIDEyMF0sIFsxNjgsIDIyNiwgMTQ0XSwgWzE1MiwgMjI2LCAxODBdLCBbMTYwLCAyMTQsIDIyOF0sIFsxNjAsIDE2MiwgMTYwXSwgWyAgMCwgICAwLCAgIDBdLCBbICAwLCAgIDAsICAgMF0sXG5dO1xuIl19